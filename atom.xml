<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>AriesfunのBlog</title>
  
  <subtitle>欢迎来到我の小破站!</subtitle>
  <link href="https://ariesfun.gitee.io/atom.xml" rel="self"/>
  
  <link href="https://ariesfun.gitee.io/"/>
  <updated>2022-10-23T13:50:32.622Z</updated>
  <id>https://ariesfun.gitee.io/</id>
  
  <author>
    <name>Ariesfun</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MySQL案例3 MySQL实验(二)数据库查询</title>
    <link href="https://ariesfun.gitee.io/posts/a74d.html"/>
    <id>https://ariesfun.gitee.io/posts/a74d.html</id>
    <published>2022-10-23T13:49:14.458Z</published>
    <updated>2022-10-23T13:50:32.622Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MySQL案例3-MySQL实验-二-数据库查询"><a href="#MySQL案例3-MySQL实验-二-数据库查询" class="headerlink" title="MySQL案例3 MySQL实验(二)数据库查询"></a>MySQL案例3 MySQL实验(二)数据库查询</h1><h4 id="考核内容及实验目的："><a href="#考核内容及实验目的：" class="headerlink" title="考核内容及实验目的："></a>考核内容及实验目的：</h4><h4 id="使用SQL语句进行查询操作，掌握单表查询、多表查询及嵌套查询操作。"><a href="#使用SQL语句进行查询操作，掌握单表查询、多表查询及嵌套查询操作。" class="headerlink" title="使用SQL语句进行查询操作，掌握单表查询、多表查询及嵌套查询操作。"></a>使用SQL语句进行查询操作，掌握单表查询、多表查询及嵌套查询操作。</h4><h2 id="一、实验描述"><a href="#一、实验描述" class="headerlink" title="一、实验描述"></a>一、实验描述</h2><p>1、导入一个外部数据库文件(world.sql)到Navicat图形化管理软件中,并进行进行单表查询、多表查询及嵌套查询操作。数据库world包含了country、countryLanguag、city三张表，涵盖了全世界的国家、国家语言和城市的相关信息。</p><p>下图是world数据库中的部分表信息</p><ul><li><p>country表</p><p>  <img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210232145728.jpg" alt="Snipaste_2022-10-23_19-41-07"></p></li></ul><ul><li><p>countryLanguage表</p>  <img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210232145724.jpg" alt="Snipaste_2022-10-23_19-41-40" style="zoom:67%;" /></li></ul><ul><li>city表</li></ul><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210232145046.jpg" alt="Snipaste_2022-10-23_19-40-31" style="zoom:67%;" /><p>2、单表查询</p><p>（1）查询全世界使用中文（<code>Language </code>= ‘Chinese’）的国家的个数。</p><p>（2）以你家乡地级市名称为条件，查询显示你家乡地级市的名称和人口（Population）以及所属的省份名称（Disrtict）。注意数据库中个别城市的拼写与拼音有所区别，例如北京是Peking，西安是 Xi´an，陕西是Shaanxi。</p><p>（3）查询新疆（Xinxiang）的各市平均人口。（提示:avg()函数）</p><p>（4）查询显示世界七大洲（continent）的名称和对应各洲所拥有的国家数量（提示:group by），并用降序排序（提示:order by  <code>字段名</code> desc为降序）。</p><p>（5）查询平均国家人口大于一千万的洲（例如亚洲总人数为37亿，国家有51个，除下来平均每个国家人口为七千多万符合条件）的名称和对应该洲的总人口。（提示：avg（）函数、group by 和having字句）。</p><p>3、多表查询</p><p>（1）查询全世界使用中文为官方语言（IsOfficial=’T’ ）的国家名称（不是代码）。</p><p>（2）已知朝鲜名称为North Korea查找朝鲜国家使用的语言。</p><p>4、嵌套查询</p><p>（1）查询北美洲North America人口最多的国家名称和人口数量。</p><p>（2）查询没有一个城市人口超过1000人的国家名称和该国家人口。</p><h2 id="二、上机操作"><a href="#二、上机操作" class="headerlink" title="二、上机操作"></a>二、上机操作</h2><h3 id="0、实验环境"><a href="#0、实验环境" class="headerlink" title="0、实验环境"></a>0、实验环境</h3><ul><li><p>硬件平台：一台笔电，操作系统为Win10pro 64位</p></li><li><p>软件环境：</p><p>  数据库Server版本，8.0.30 MySQL Community Server</p><p>  图形化管理工具，Navicat Premium 15.0.25</p></li></ul><h3 id="1、用到的SQL语句"><a href="#1、用到的SQL语句" class="headerlink" title="1、用到的SQL语句"></a>1、用到的SQL语句</h3><ul><li>单表查询</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><ul><li>多表查询<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><ul><li>嵌套查询<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2、完整的SQL代码实现"><a href="#2、完整的SQL代码实现" class="headerlink" title="2、完整的SQL代码实现"></a>2、完整的SQL代码实现</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1、单表查询</span></span><br><span class="line"><span class="comment">-- 查询全世界使用中文的国家的个数</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(CountryCode) <span class="keyword">from</span> countrylanguage <span class="keyword">where</span> `<span class="keyword">Language</span>` <span class="operator">=</span> <span class="string">&#x27;Chinese&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询显示你家乡地级市的名称和人口（Population）以及所属的省份名称（Disrtict）</span></span><br><span class="line"><span class="keyword">select</span> Name,Population,District <span class="keyword">from</span> city <span class="keyword">where</span> `Name` <span class="operator">=</span> <span class="string">&#x27;Ankang&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询新疆（Xinxiang）的各市平均人口</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(Population) <span class="keyword">from</span> city <span class="keyword">where</span> District <span class="operator">=</span> <span class="string">&#x27;Xinxiang&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询显示世界七大洲（Continent）的名称和对应各洲所拥有的国家数量，并用降序排序</span></span><br><span class="line"><span class="keyword">select</span> Continent,<span class="built_in">count</span>(Code) <span class="keyword">from</span> country <span class="keyword">group</span> <span class="keyword">by</span> Continent <span class="keyword">order</span> <span class="keyword">by</span> <span class="built_in">count</span>(Code) <span class="keyword">desc</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询平均国家人口大于一千万的洲的名称和对应该洲的总人口</span></span><br><span class="line"><span class="keyword">select</span> Continent,<span class="built_in">avg</span>(Population),<span class="built_in">sum</span>(Population) <span class="keyword">from</span> country <span class="keyword">group</span> <span class="keyword">by</span> Continent <span class="keyword">having</span> <span class="built_in">avg</span>(Population) <span class="operator">&gt;</span> <span class="number">10000000</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2、多表查询</span></span><br><span class="line"><span class="comment">-- 查询全世界使用中文为官方语言的国家名称，使用等值连接</span></span><br><span class="line"><span class="keyword">select</span> Name <span class="keyword">from</span> country co,countrylanguage col <span class="keyword">where</span> co.Code <span class="operator">=</span> col.CountryCode <span class="keyword">and</span> `<span class="keyword">Language</span>` <span class="operator">=</span> <span class="string">&#x27;Chinese&#x27;</span> <span class="keyword">and</span> IsOfficial <span class="operator">=</span> <span class="string">&#x27;T&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> Name,<span class="keyword">Language</span> <span class="keyword">from</span> country co,countrylanguage col <span class="keyword">where</span> co.Code <span class="operator">=</span> col.CountryCode <span class="keyword">and</span> `Name` <span class="operator">=</span> <span class="string">&#x27;North Korea&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 3、嵌套查询</span></span><br><span class="line"><span class="comment">-- 查询北美洲North America人口最多的国家名称和人口数量</span></span><br><span class="line"><span class="comment">-- 子查询是北美洲最多的人口数，外层查询是子查询对应的国家和人口</span></span><br><span class="line"><span class="comment">-- select max(Population) from country where `Continent` = &#x27;North America&#x27;;</span></span><br><span class="line"><span class="keyword">select</span> Name,Population <span class="keyword">from</span> country <span class="keyword">where</span> Population <span class="operator">=</span> <span class="keyword">any</span> (<span class="keyword">select</span> <span class="built_in">max</span>(Population) <span class="keyword">from</span> country <span class="keyword">where</span> `Continent` <span class="operator">=</span> <span class="string">&#x27;North America&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询没有一个城市人口超过1000人的国家名称和该国家人口</span></span><br><span class="line"><span class="comment">-- 子查询：select distinct city.CountryCode from city where city.`Population` &lt; 1000;</span></span><br><span class="line"><span class="keyword">select</span> Name,Population <span class="keyword">from</span> country <span class="keyword">where</span> country.`Code` <span class="operator">=</span> <span class="keyword">any</span> (<span class="keyword">select</span> <span class="keyword">distinct</span> city.`CountryCode` <span class="keyword">from</span> city <span class="keyword">where</span> city.`Population` <span class="operator">&lt;</span> <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;MySQL案例3-MySQL实验-二-数据库查询&quot;&gt;&lt;a href=&quot;#MySQL案例3-MySQL实验-二-数据库查询&quot; class=&quot;headerlink&quot; title=&quot;MySQL案例3 MySQL实验(二)数据库查询&quot;&gt;&lt;/a&gt;MySQL案例3 MySQL</summary>
      
    
    
    
    <category term="MySQL数据库" scheme="https://ariesfun.gitee.io/categories/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="MySQL" scheme="https://ariesfun.gitee.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>AcWing算法基础课 基础算法1</title>
    <link href="https://ariesfun.gitee.io/posts/61475.html"/>
    <id>https://ariesfun.gitee.io/posts/61475.html</id>
    <published>2022-10-16T14:30:00.000Z</published>
    <updated>2022-10-17T08:20:35.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、基础算法"><a href="#一、基础算法" class="headerlink" title="一、基础算法"></a>一、基础算法</h1><h3 id="基础算法内容目录"><a href="#基础算法内容目录" class="headerlink" title="基础算法内容目录"></a>基础算法内容目录</h3><p><strong>排序</strong><br><strong>二分</strong><br><strong>高精度</strong><br><strong>前缀和与差分</strong><br><strong>双指针算法</strong><br><strong>位运算</strong><br><strong>离散化</strong><br><strong>区间合并</strong></p><h3 id="1、排序"><a href="#1、排序" class="headerlink" title="1、排序"></a>1、排序</h3><blockquote><p>快速排序</p></blockquote><ul><li><p>问题描述</p><h4 id="AcWing-785-快速排序"><a href="#AcWing-785-快速排序" class="headerlink" title="AcWing 785. 快速排序"></a>AcWing 785. 快速排序</h4></li></ul><p>给定你一个长度为 n 的整数数列。</p><p>  请你使用快速排序对这个数列按照从小到大进行排序。</p><p>  并将排好序的数列按顺序输出。</p><h4 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h4><p>输入共两行，第一行包含整数 n。</p><p>  第二行包含 n 个整数（所有整数均在 1∼1091∼109 范围内），表示整个数列。</p><h4 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h4><p>  输出共一行，包含 n 个整数，表示排好序的数列。</p><h4 id="数据范围"><a href="#数据范围" class="headerlink" title="数据范围"></a>数据范围</h4><p>  1≤n≤1000001≤n≤100000</p><h4 id="输入样例："><a href="#输入样例：" class="headerlink" title="输入样例："></a>输入样例：</h4>  <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">3 1 2 4 5</span><br></pre></td></tr></table></figure><h4 id="输出样例："><a href="#输出样例：" class="headerlink" title="输出样例："></a>输出样例：</h4>  <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 2 3 4 5</span><br></pre></td></tr></table></figure><ul><li>题解</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 100010<span class="comment">//定义数据范围 </span></span></span><br><span class="line"><span class="type">int</span> q[N]; </span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">quick_sort</span><span class="params">(<span class="type">int</span> q[],<span class="type">int</span> l,<span class="type">int</span> r)</span><span class="comment">//快速排序模板 </span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(l == r) <span class="keyword">return</span>;<span class="comment">//判断边界，指针已穿过，此时区间有0或1个数直接退出排序 </span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> x = q[(l+r)/<span class="number">2</span>],i = l - <span class="number">1</span>,j = r + <span class="number">1</span>;<span class="comment">//取中间点为分界点，初始化指针指向边界两侧，保证循环时指向正真边界 </span></span><br><span class="line"><span class="keyword">while</span> (i &lt; j)<span class="comment">//调整左右两个区间 </span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">do</span> i++ ;<span class="keyword">while</span>(q[i] &lt; x);</span><br><span class="line"><span class="keyword">do</span> j-- ;<span class="keyword">while</span>(q[j] &gt; x);</span><br><span class="line"><span class="keyword">if</span>(i &lt; j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> t = q[i];</span><br><span class="line">            q[i] = q[j];</span><br><span class="line">            q[j] = t;</span><br><span class="line">        &#125;<span class="comment">//此时i,j已停下来，交换它们指向的数 </span></span><br><span class="line">&#125;</span><br><span class="line">quick_sort(q,l,j);<span class="comment">//再递归左右两段，直到有序 </span></span><br><span class="line">quick_sort(q,j+<span class="number">1</span>,r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);<span class="comment">//读入排序个数 </span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;q[i]);<span class="comment">//存入数组q[i] </span></span><br><span class="line">quick_sort(q,<span class="number">0</span>,n<span class="number">-1</span>);<span class="comment">//调用快排，传入数据及左右边界 </span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,q[i]);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>归并排序</p></blockquote><ul><li><p>问题描述</p><h4 id="AcWing-787-归并排序"><a href="#AcWing-787-归并排序" class="headerlink" title="AcWing 787. 归并排序"></a>AcWing 787. 归并排序</h4><p>给定你一个长度为 nn 的整数数列。</p><p>请你使用归并排序对这个数列按照从小到大进行排序。</p><p>并将排好序的数列按顺序输出。</p><h4 id="输入格式-1"><a href="#输入格式-1" class="headerlink" title="输入格式"></a>输入格式</h4><p>输入共两行，第一行包含整数 nn。</p><p>第二行包含 nn 个整数（所有整数均在 1∼1091∼109 范围内），表示整个数列。</p><h4 id="输出格式-1"><a href="#输出格式-1" class="headerlink" title="输出格式"></a>输出格式</h4><p>输出共一行，包含 nn 个整数，表示排好序的数列。</p><h4 id="数据范围-1"><a href="#数据范围-1" class="headerlink" title="数据范围"></a>数据范围</h4><p>1≤n≤1000001≤n≤100000</p><h4 id="输入样例"><a href="#输入样例" class="headerlink" title="输入样例"></a>输入样例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">3 1 2 4 5</span><br></pre></td></tr></table></figure><h4 id="输出样例：-1"><a href="#输出样例：-1" class="headerlink" title="输出样例："></a>输出样例：</h4><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 2 3 4 5</span><br></pre></td></tr></table></figure></li></ul><ul><li>题解<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 100010</span></span><br><span class="line"><span class="type">int</span> q[N],temp[N];</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">merge_sort</span><span class="params">(<span class="type">int</span> q[],<span class="type">int</span> l,<span class="type">int</span> r)</span><span class="comment">//归并排序模板 </span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(l == r) <span class="keyword">return</span>;<span class="comment">//当前区间有0或1个数，退出排序 </span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> mid = (l + r)/<span class="number">2</span>;<span class="comment">//取区间中点 </span></span><br><span class="line"></span><br><span class="line">merge_sort(q,l,mid),merge_sort(q,mid+<span class="number">1</span>,r);<span class="comment">//递归排序左右两边 </span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> k = <span class="number">0</span>,i = l,j = mid + <span class="number">1</span>;<span class="comment">//初始化左右起点i,j </span></span><br><span class="line"><span class="keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= r)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(q[i] &lt;= q[j]) temp[k++] = q[i++];<span class="comment">//每次把小的数存入辅助数组temp </span></span><br><span class="line"><span class="keyword">else</span> temp[k++] = q[j++];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(i &lt;= mid) temp[k++] = q[i++];<span class="comment">//左边没循环完时，直接复制给temp </span></span><br><span class="line"><span class="keyword">while</span>(j &lt;= r) temp[k++] = q[j++];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i = l,j = <span class="number">0</span>;i &lt;= r;i++,j++) q[i] = temp[j];<span class="comment">//这里取最后一次排好序的temp值，把辅助数组存回原数组 </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> n; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;q[i]);</span><br><span class="line"></span><br><span class="line">merge_sort(q,<span class="number">0</span>,n<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,q[i]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="2、二分"><a href="#2、二分" class="headerlink" title="2、二分"></a>2、二分</h3><blockquote><p>整数二分算法</p></blockquote><ul><li><p>问题描述</p><h4 id="AcWing-789-数的范围"><a href="#AcWing-789-数的范围" class="headerlink" title="AcWing 789. 数的范围"></a>AcWing 789. 数的范围</h4><p>  给定一个按照升序排列的长度为 n 的整数数组，以及 q 个查询。</p><p>  对于每个查询，返回一个元素 k 的起始位置和终止位置（位置从 0 开始计数）。</p><p>  如果数组中不存在该元素，则返回 <code>-1 -1</code>。</p><h4 id="输入格式-2"><a href="#输入格式-2" class="headerlink" title="输入格式"></a>输入格式</h4><p>  第一行包含整数 n 和 q，表示数组长度和询问个数。</p><p>  第二行包含 n 个整数（均在 1∼100001∼10000 范围内），表示完整数组。</p><p>  接下来 q 行，每行包含一个整数 k，表示一个询问元素。</p><h4 id="输出格式-2"><a href="#输出格式-2" class="headerlink" title="输出格式"></a>输出格式</h4><p>  共 qq 行，每行包含两个整数，表示所求元素的起始位置和终止位置。</p><p>  如果数组中不存在该元素，则返回 <code>-1 -1</code>。</p><h4 id="数据范围-2"><a href="#数据范围-2" class="headerlink" title="数据范围"></a>数据范围</h4><p>  1≤n≤1000001≤n≤100000<br>  1≤q≤100001≤q≤10000<br>  1≤k≤100001≤k≤10000</p><h4 id="输入样例：-1"><a href="#输入样例：-1" class="headerlink" title="输入样例："></a>输入样例：</h4>  <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">6 3</span><br><span class="line">1 2 2 3 3 4</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure><h4 id="输出样例：-2"><a href="#输出样例：-2" class="headerlink" title="输出样例："></a>输出样例：</h4>  <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3 4</span><br><span class="line">5 5</span><br><span class="line">-1 -1</span><br></pre></td></tr></table></figure></li></ul><ul><li>题解<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 100010</span></span><br><span class="line"><span class="type">int</span> n,q;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;q);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(q--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">        <span class="type">int</span> l = <span class="number">0</span>, r = n - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> mid = (l + r)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(a[mid] &gt;= x) r = mid;</span><br><span class="line">            <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(a[l] != x)   <span class="built_in">printf</span>(<span class="string">&quot;-1 -1\n&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,l);</span><br><span class="line">            <span class="type">int</span> l = <span class="number">0</span>,r = n - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(l &lt; r)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> mid = (l + r + <span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">                <span class="keyword">if</span>(a[mid] &lt;= x) l = mid;</span><br><span class="line">                <span class="keyword">else</span> r = mid <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d \n&quot;</span>,l);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>浮点数二分算法</p></blockquote><ul><li><p>问题描述</p><h4 id="AcWing-790-数的三次方根"><a href="#AcWing-790-数的三次方根" class="headerlink" title="AcWing 790. 数的三次方根"></a>AcWing 790. 数的三次方根</h4><p>  给定一个浮点数 n，求它的三次方根。</p><h4 id="输入格式-3"><a href="#输入格式-3" class="headerlink" title="输入格式"></a>输入格式</h4><p>  共一行，包含一个浮点数 n。</p><h4 id="输出格式-3"><a href="#输出格式-3" class="headerlink" title="输出格式"></a>输出格式</h4><p>  共一行，包含一个浮点数，表示问题的解。</p><p>  注意，结果保留 6 位小数。</p><h4 id="数据范围-3"><a href="#数据范围-3" class="headerlink" title="数据范围"></a>数据范围</h4><p>  −10000≤n≤10000−10000≤n≤10000</p><h4 id="输入样例：-2"><a href="#输入样例：-2" class="headerlink" title="输入样例："></a>输入样例：</h4>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1000.00</span><br></pre></td></tr></table></figure><h4 id="输出样例：-3"><a href="#输出样例：-3" class="headerlink" title="输出样例："></a>输出样例：</h4>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10.000000</span><br></pre></td></tr></table></figure></li></ul><ul><li>题解<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;一、基础算法&quot;&gt;&lt;a href=&quot;#一、基础算法&quot; class=&quot;headerlink&quot; title=&quot;一、基础算法&quot;&gt;&lt;/a&gt;一、基础算法&lt;/h1&gt;&lt;h3 id=&quot;基础算法内容目录&quot;&gt;&lt;a href=&quot;#基础算法内容目录&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    <category term="AcWing算法基础课" scheme="https://ariesfun.gitee.io/categories/AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE/"/>
    
    
    <category term="C语言" scheme="https://ariesfun.gitee.io/tags/C%E8%AF%AD%E8%A8%80/"/>
    
    <category term="数据结构与算法" scheme="https://ariesfun.gitee.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"/>
    
    <category term="AcWing" scheme="https://ariesfun.gitee.io/tags/AcWing/"/>
    
  </entry>
  
  <entry>
    <title>MySQL案例2 MySQL实验(一)数据库定义与操作</title>
    <link href="https://ariesfun.gitee.io/posts/28384.html"/>
    <id>https://ariesfun.gitee.io/posts/28384.html</id>
    <published>2022-10-14T11:26:59.740Z</published>
    <updated>2022-10-23T11:27:41.778Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MySQL案例2-MySQL实验-一-数据库定义与操作"><a href="#MySQL案例2-MySQL实验-一-数据库定义与操作" class="headerlink" title="MySQL案例2 MySQL实验(一)数据库定义与操作"></a>MySQL案例2 MySQL实验(一)数据库定义与操作</h1><h4 id="考核内容及实验目的："><a href="#考核内容及实验目的：" class="headerlink" title="考核内容及实验目的："></a>考核内容及实验目的：</h4><h4 id="使用SQL语句创建、修改、删除数据库及基本表。掌握表级、列级完整性约束。"><a href="#使用SQL语句创建、修改、删除数据库及基本表。掌握表级、列级完整性约束。" class="headerlink" title="使用SQL语句创建、修改、删除数据库及基本表。掌握表级、列级完整性约束。"></a>使用SQL语句创建、修改、删除数据库及基本表。掌握表级、列级完整性约束。</h4><h2 id="一、实验描述"><a href="#一、实验描述" class="headerlink" title="一、实验描述"></a>一、实验描述</h2><p>1、创建数据库hdbase，并创建三张表，分别是country、countryLanguage、city。</p><p>表信息如下：</p><ul><li>country表</li></ul><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210141733916.png" alt="img_202210141733916" style="zoom: 67%;" /><ul><li>countryLanguage表</li></ul><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210141733490.png" alt="img_202210141733490" style="zoom:67%;" /><ul><li>city表</li></ul><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210141733282.png" alt="img_202210141733282" style="zoom:67%;" /><p>2、定义表中的主码、外键、约束、数据类型。</p><p>（1）country表主码为Code，countryLanguage表中主码为countryCode、Language，city表主码为ID。<br>（2）countryLanguage表和city表，其表中的CountryCode字段都是country表中的Code字段的外键。<br>（3）country表和city表的Name字段列级约束均为非空、唯一。<br>（4）CountryLanguage中isOffice字段采用枚举类型，要求：isOffice enum(‘T’,’F’)。</p><p>3、对表中数据进行更新操作。</p><p>（1）修改city表中Population字段属性为bigint、not null。<br>（2）删除表country中的Surfacearea字段。<br>（3）插入Visit字段到表city中，枚举类型enum，Y代表去过，N代表没去过。默认值为N.<br>（4）删除countryLanguage表中的外键约束。<br>（5）给countryLanguage表Language字段加普通索引。</p><h2 id="二、上机操作"><a href="#二、上机操作" class="headerlink" title="二、上机操作"></a>二、上机操作</h2><h3 id="0、实验环境"><a href="#0、实验环境" class="headerlink" title="0、实验环境"></a>0、实验环境</h3><ul><li><p>硬件平台：一台笔电，操作系统为Win10pro 64位</p></li><li><p>软件环境：</p><p>  数据库Server版本，8.0.30 MySQL Community Server</p><p>  图形化管理工具，Navicat Premium 15.0.25</p></li></ul><h3 id="1、用到的SQL语句"><a href="#1、用到的SQL语句" class="headerlink" title="1、用到的SQL语句"></a>1、用到的SQL语句</h3><ul><li>创建数据库</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建数据库hdbase</span></span><br><span class="line"><span class="keyword">create</span> database hdbase;</span><br></pre></td></tr></table></figure><ul><li>创建三张表，并定义约束<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建表country,countryLanguage,city</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `hdbase`.`country`(</span><br><span class="line">    Code <span class="type">char</span>(<span class="number">3</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    Name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span>,</span><br><span class="line">    Continent <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    Surfacearea <span class="keyword">double</span>(<span class="number">9</span>,<span class="number">2</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    <span class="keyword">primary</span> key(Code)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `hdbase`.`countryLanguage`(</span><br><span class="line">    CountryCode <span class="type">char</span>(<span class="number">3</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    <span class="keyword">Language</span> <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    IsOffical enum(<span class="string">&#x27;T&#x27;</span>,<span class="string">&#x27;F&#x27;</span>) <span class="keyword">not</span> <span class="keyword">null</span>, <span class="comment">-- 字段采用枚举类型,enum(&#x27;T&#x27;,&#x27;F&#x27;)</span></span><br><span class="line">    Percentage <span class="keyword">double</span>(<span class="number">3</span>,<span class="number">1</span>) <span class="keyword">not</span> <span class="keyword">null</span>, </span><br><span class="line">    <span class="keyword">constraint</span> fk_countryLanguage <span class="keyword">foreign</span> key(CountryCode) <span class="keyword">references</span> country(Code), <span class="comment">-- 定义外键约束,并自定义约束名</span></span><br><span class="line">    <span class="keyword">primary</span> key(CountryCode,<span class="keyword">Language</span>) <span class="comment">-- 联合主键</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `hdbase`.`city`(</span><br><span class="line">    ID <span class="type">char</span>(<span class="number">4</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    Name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span>,</span><br><span class="line">    CountryCode <span class="type">char</span>(<span class="number">3</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    District <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    Population <span class="type">int</span> unsigned,</span><br><span class="line">    <span class="keyword">constraint</span> fk_city <span class="keyword">foreign</span> key(CountryCode) <span class="keyword">references</span> country(Code), <span class="comment">-- 定义外键约束</span></span><br><span class="line">    <span class="keyword">primary</span> key(ID)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li></ul><ul><li>批量插入数据<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 对三张表中插入部分数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> country (Code,Name,Continent,Surfacearea) <span class="keyword">values</span> (<span class="string">&#x27;AUS&#x27;</span>,<span class="string">&#x27;Australia&#x27;</span>,<span class="string">&#x27;Oceania&#x27;</span>,<span class="string">&#x27;7741220.00&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;CHN&#x27;</span>,<span class="string">&#x27;China&#x27;</span>,<span class="string">&#x27;Asia&#x27;</span>,<span class="string">&#x27;9572900.00&#x27;</span>),(<span class="string">&#x27;DEU&#x27;</span>,<span class="string">&#x27;Germany&#x27;</span>,<span class="string">&#x27;Europe&#x27;</span>,<span class="string">&#x27;357022.00&#x27;</span>),(<span class="string">&#x27;USA&#x27;</span>,<span class="string">&#x27;United States&#x27;</span>,<span class="string">&#x27;North America&#x27;</span>,<span class="string">&#x27;9363520.00&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> countryLanguage (CountryCode,<span class="keyword">Language</span>, IsOffical,Percentage) <span class="keyword">values</span> (<span class="string">&#x27;CHN&#x27;</span>,<span class="string">&#x27;Chinese&#x27;</span>,<span class="string">&#x27;T&#x27;</span>,<span class="string">&#x27;92.0&#x27;</span>),(<span class="string">&#x27;CHN&#x27;</span>,<span class="string">&#x27;Tibetan&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;0.4&#x27;</span>),(<span class="string">&#x27;USA&#x27;</span>,<span class="string">&#x27;English&#x27;</span>,<span class="string">&#x27;T&#x27;</span>,<span class="string">&#x27;98&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> city (ID,Name,CountryCode,District,Population) <span class="keyword">values</span>  (<span class="string">&#x27;1901&#x27;</span>,<span class="string">&#x27;Xi`an&#x27;</span>,<span class="string">&#x27;CHN&#x27;</span>,<span class="string">&#x27;Shaanxi&#x27;</span>,<span class="string">&#x27;2761400&#x27;</span>),(<span class="string">&#x27;1990&#x27;</span>,<span class="string">&#x27;Xianyang&#x27;</span>,<span class="string">&#x27;CHN&#x27;</span>,<span class="string">&#x27;Shaanxi&#x27;</span>,<span class="string">&#x27;352125&#x27;</span>),(<span class="string">&#x27;1996&#x27;</span>,<span class="string">&#x27;Baoji&#x27;</span>,<span class="string">&#x27;CHN&#x27;</span>,<span class="string">&#x27;Shaanxi&#x27;</span>,<span class="string">&#x27;337765&#x27;</span>);</span><br></pre></td></tr></table></figure></li></ul><ul><li>数据更新操作<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--（1）修改city表中Population字段属性为bigint、not null，即修改列属性</span></span><br><span class="line"><span class="comment">-- 给city表修改列属性</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> city modify Population <span class="type">bigint</span>;</span><br><span class="line"><span class="comment">-- 添加非空属性</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> city modify <span class="keyword">column</span> Population <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--（2）删除country表中的Surfacearea字段</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> country dorp Surfacearea;</span><br><span class="line"></span><br><span class="line"><span class="comment">--（3）插入Visit新字段到city表中，枚举类型enum，Y代表去过，N代表没去过，默认值为N</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> city <span class="keyword">add</span> (Visit enum(<span class="string">&#x27;Y&#x27;</span>,<span class="string">&#x27;N&#x27;</span>) <span class="keyword">default</span> <span class="string">&#x27;N&#x27;</span>);</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--（4）删除countryLanguage表中的外键约束</span></span><br><span class="line"><span class="comment">-- 先要知道countryLanguage表中的外键约束名,在前面创建表时我定义外键约束名为fk_countryLanguage</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> countryLanguage <span class="keyword">drop</span> <span class="keyword">foreign</span> key fk_countryLanguage;</span><br><span class="line"></span><br><span class="line"><span class="comment">--（5）给countryLanguage表的Language字段加普通索引</span></span><br><span class="line"><span class="comment">-- 给表中字段添加普通索引的语法：</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> table_name <span class="keyword">add</span> index index_name (<span class="keyword">column</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> countryLanguage <span class="keyword">add</span> index index_Language(<span class="keyword">Language</span>);</span><br></pre></td></tr></table></figure><h3 id="2、完整的SQL代码实现"><a href="#2、完整的SQL代码实现" class="headerlink" title="2、完整的SQL代码实现"></a>2、完整的SQL代码实现</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 一、创建数据库</span></span><br><span class="line"><span class="keyword">create</span> database hdbase;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 二、创建三张表,并定义约束</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `hdbase`.`country`(</span><br><span class="line">Code <span class="type">char</span>(<span class="number">3</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span>,</span><br><span class="line">Continent <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Surfacearea <span class="keyword">double</span>(<span class="number">10</span>,<span class="number">2</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"><span class="keyword">primary</span> key(Code)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `hdbase`.`countryLanguage`(</span><br><span class="line">CountryCode <span class="type">char</span>(<span class="number">3</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"><span class="keyword">Language</span> <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">isOffical enum(<span class="string">&#x27;T&#x27;</span>,<span class="string">&#x27;F&#x27;</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Percentage <span class="keyword">double</span>(<span class="number">3</span>,<span class="number">1</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"><span class="keyword">constraint</span> fk_countryLanguage <span class="keyword">foreign</span> key (CountryCode) <span class="keyword">references</span> country(Code),</span><br><span class="line"><span class="keyword">primary</span> key(CountryCode,<span class="keyword">Language</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `hdbase`.`city`(</span><br><span class="line">ID <span class="type">char</span>(<span class="number">4</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span>,</span><br><span class="line">CountryCode <span class="type">char</span>(<span class="number">3</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">District <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Population <span class="type">int</span> unsigned <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"><span class="keyword">constraint</span> fk_city <span class="keyword">foreign</span> key (CountryCode) <span class="keyword">references</span> country(Code),</span><br><span class="line"><span class="keyword">primary</span> key(ID)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 三、批量插入数据 </span></span><br><span class="line"><span class="comment">-- 国家表</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> country (Code,Name,Continent,Surfacearea) <span class="keyword">values</span> (<span class="string">&#x27;AUS&#x27;</span>,<span class="string">&#x27;Australia&#x27;</span>,<span class="string">&#x27;Oceania&#x27;</span>,<span class="string">&#x27;7741220.00&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;CHN&#x27;</span>,<span class="string">&#x27;China&#x27;</span>,<span class="string">&#x27;Asia&#x27;</span>,<span class="string">&#x27;9572900.00&#x27;</span>),(<span class="string">&#x27;DEU&#x27;</span>,<span class="string">&#x27;Germany&#x27;</span>,<span class="string">&#x27;Europe&#x27;</span>,<span class="string">&#x27;357022.00&#x27;</span>),(<span class="string">&#x27;USA&#x27;</span>,<span class="string">&#x27;United States&#x27;</span>,<span class="string">&#x27;North America&#x27;</span>,<span class="string">&#x27;9363520.00&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> country; </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 国家语言表</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> countryLanguage (CountryCode,<span class="keyword">Language</span>,isOffical,Percentage) <span class="keyword">values</span> (<span class="string">&#x27;CHN&#x27;</span>,<span class="string">&#x27;Chinese&#x27;</span>,<span class="string">&#x27;T&#x27;</span>,<span class="string">&#x27;92.0&#x27;</span>),(<span class="string">&#x27;CHN&#x27;</span>,<span class="string">&#x27;Tibetan&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;0.4&#x27;</span>),(<span class="string">&#x27;USA&#x27;</span>,<span class="string">&#x27;English&#x27;</span>,<span class="string">&#x27;T&#x27;</span>,<span class="string">&#x27;98&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> countryLanguage; </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 城市表</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> city (ID,Name,CountryCode,District,Population) <span class="keyword">values</span> (<span class="string">&#x27;1901&#x27;</span>,<span class="string">&#x27;Xi`an&#x27;</span>,<span class="string">&#x27;CHN&#x27;</span>,<span class="string">&#x27;Shaanxi&#x27;</span>,<span class="string">&#x27;2761400&#x27;</span>),(<span class="string">&#x27;1990&#x27;</span>,<span class="string">&#x27;Xianyang&#x27;</span>,<span class="string">&#x27;CHN&#x27;</span>,<span class="string">&#x27;Shaanxi&#x27;</span>,<span class="string">&#x27;352125&#x27;</span>),(<span class="string">&#x27;1996&#x27;</span>,<span class="string">&#x27;Baoji&#x27;</span>,<span class="string">&#x27;CHN&#x27;</span>,<span class="string">&#x27;Shaanxi&#x27;</span>,<span class="string">&#x27;337765&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> city; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 四、修改表</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 给city表修改列属性</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> city modify Population <span class="type">bigint</span>;</span><br><span class="line"><span class="comment">-- 添加非空属性</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> city modify <span class="keyword">column</span> Population <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">-- 查看表结构</span></span><br><span class="line"><span class="keyword">desc</span> city;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除列（字段）</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> country <span class="keyword">drop</span> Surfacearea;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> country; </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入新字段到city表</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> city <span class="keyword">add</span> (Visit enum(<span class="string">&#x27;Y&#x27;</span>,<span class="string">&#x27;N&#x27;</span>)  <span class="keyword">default</span> <span class="string">&#x27;Y&#x27;</span>);</span><br><span class="line"><span class="comment">-- 查看表结构</span></span><br><span class="line"><span class="keyword">desc</span> city;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> city; </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除表中的外键约束</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> countryLanguage <span class="keyword">drop</span> <span class="keyword">foreign</span> key fk_countryLanguage;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 添加普通索引</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> countryLanguage <span class="keyword">add</span> index index_name(<span class="keyword">Language</span>);</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;MySQL案例2-MySQL实验-一-数据库定义与操作&quot;&gt;&lt;a href=&quot;#MySQL案例2-MySQL实验-一-数据库定义与操作&quot; class=&quot;headerlink&quot; title=&quot;MySQL案例2 MySQL实验(一)数据库定义与操作&quot;&gt;&lt;/a&gt;MySQL</summary>
      
    
    
    
    <category term="MySQL数据库" scheme="https://ariesfun.gitee.io/categories/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="MySQL" scheme="https://ariesfun.gitee.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MySQL案例1 MySQL的简单应用及用Java操作</title>
    <link href="https://ariesfun.gitee.io/posts/22648.html"/>
    <id>https://ariesfun.gitee.io/posts/22648.html</id>
    <published>2022-10-07T04:14:38.103Z</published>
    <updated>2022-10-14T11:25:37.206Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MySQL案例1-MySQL的简单应用及用Java操作"><a href="#MySQL案例1-MySQL的简单应用及用Java操作" class="headerlink" title="MySQL案例1 MySQL的简单应用及用Java操作"></a>MySQL案例1 MySQL的简单应用及用Java操作</h1><h2 id="一、具体案例描述"><a href="#一、具体案例描述" class="headerlink" title="一、具体案例描述"></a>一、具体案例描述</h2><p>MySQL数据库操作：</p><p>学生表student信息如下</p><table><thead><tr><th>Name</th><th>English</th><th>Math</th><th>Computer</th></tr></thead><tbody><tr><td>zhangsan</td><td>69</td><td>86</td><td>77</td></tr><tr><td>lisi</td><td>55</td><td>100</td><td>88</td></tr></tbody></table><ul><li>根据上面给出的student表，在MySQL数据库中完成以下操作：</li></ul><p>（1）在MySQL中创建student表，并录入数据。</p><p>（2）用SQL语句输出student表中的所有记录。</p><p>（3）查询zhangsan的Computer成绩。</p><p>（4）修改lisi的Math成绩，改为95。</p><ul><li>根据上面已经设计出的student表，使用MySQL的Java客户端编程实现以下操作：</li></ul><p>（1）向student表中添加如下所示的一条记录。</p><table><thead><tr><th>Name</th><th>English</th><th>Math</th><th>Computer</th></tr></thead><tbody><tr><td>scofield</td><td>45</td><td>89</td><td>100</td></tr></tbody></table><p>（2）获取scofield的English成绩信息。</p><h2 id="二、上机操作"><a href="#二、上机操作" class="headerlink" title="二、上机操作"></a>二、上机操作</h2><h3 id="0、实验环境"><a href="#0、实验环境" class="headerlink" title="0、实验环境"></a>0、实验环境</h3><ul><li><p>硬件平台：一台笔电，操作系统为Win10pro 64位</p></li><li><p>软件环境：</p><p>  数据库Server版本，8.0.30 MySQL Community Server</p><p>  图形化管理工具，Navicat Premium 15.0.25</p><p>  Java开发工具，IntelliJ IDEA 2020.1</p><p>  Jdk版本，jdk1.8.0_221</p></li></ul><h3 id="1、要用的SQL语句"><a href="#1、要用的SQL语句" class="headerlink" title="1、要用的SQL语句"></a>1、要用的SQL语句</h3><p>(创建过程可用navicat可视化软件来完成操作，这里为了便于学习全部使用SQL语句)</p><ul><li>创建数据库</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 先创建一个学生集合的数据库</span></span><br><span class="line"><span class="keyword">create</span> database studentdb;</span><br></pre></td></tr></table></figure><ul><li>创建表</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建学生表</span></span><br><span class="line"><span class="comment">-- 整型数据&quot;tinyint unsigned&quot;的取值范围为0~255，用它来表示学生成绩</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `studentdb`.`student`(</span><br><span class="line">Name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span>,<span class="comment">--成绩单信息定义为非空约束</span></span><br><span class="line">    English tinyint unsigned <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    Math tinyint unsigned <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">Computer tinyint unsigned <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 再查看一下表结构</span></span><br><span class="line">use studentdb;</span><br><span class="line"><span class="keyword">desc</span> student;</span><br></pre></td></tr></table></figure><p>用navicat刷新一下数据库，发现新增了数据库studentdb和student表<br><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140922357.jpg" alt="img_202210140922357"></p><ul><li><p>插入数据</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 批量插入学生成绩</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `student` (Name,English,Math,Computer) <span class="keyword">values</span> (<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;69&#x27;</span>,<span class="string">&#x27;86&#x27;</span>,<span class="string">&#x27;77&#x27;</span>), (<span class="string">&#x27;lisi&#x27;</span>,<span class="string">&#x27;55&#x27;</span>,<span class="string">&#x27;100&#x27;</span>,<span class="string">&#x27;88&#x27;</span>);</span><br></pre></td></tr></table></figure></li><li><p>查询表内容</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 输出student表中的所有记录</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure></li></ul><p>查询结果如下<br><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140924365.jpg" alt="img_202210140924365"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 按条件查询数据</span></span><br><span class="line"><span class="comment">-- 查询zhangsan的Computer成绩</span></span><br><span class="line"><span class="keyword">select</span> Name,Computer <span class="keyword">from</span> student <span class="keyword">where</span> Name <span class="operator">=</span> <span class="string">&#x27;zhangsan&#x27;</span>;</span><br></pre></td></tr></table></figure><p>查询结果如下<br><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140925302.jpg" alt="img_202210140925302"></p><ul><li>修改数据<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改lisi的Math成绩，改为95</span></span><br><span class="line"><span class="keyword">update</span> `student` <span class="keyword">set</span> Math <span class="operator">=</span> <span class="number">95</span> <span class="keyword">where</span> Name <span class="operator">=</span> <span class="string">&#x27;lisi&#x27;</span>;</span><br></pre></td></tr></table></figure></li></ul><p>查询到修改结果如下，修改成功<img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140925304.jpg" alt="img_202210140925304"></p><p>在数据库中刷新，student表中信息也同步修改了</p><p><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140925310.jpg" alt="img_202210140925310"></p><h3 id="2、Java操作MySQL数据库"><a href="#2、Java操作MySQL数据库" class="headerlink" title="2、Java操作MySQL数据库"></a>2、Java操作MySQL数据库</h3><p>（1）使用 JDBC 技术连接 MySQL 数据库</p><p>这里用<a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a>开发工具新建一个maven的工程连接MySQL,新建成功后首先配置pom.xml文件</p><p><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140926388.jpg" alt="img_202210140926388"></p><p><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140926393.jpg" alt="img_202210140926393"></p><p>1.找MySQL数据库对应的驱动依赖文件</p><p>进入<a href="https://mvnrepository.com/">maven</a>仓库的官网：<a href="https://mvnrepository.com/%EF%BC%8C%E6%90%9C%E7%B4%A2mysql%E6%8E%A5%E7%9D%80%E7%82%B9%E5%87%BB%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C">https://mvnrepository.com/，搜索mysql接着点击第一个搜索结果</a></p><p><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140927806.jpg" alt="img_202210140927806"></p><p>选择自己对应的mysql版本，复制下方的maven依赖代码</p><p>不知道自己MySQL版本的可以用DOS命令查看，我的是mysql 8.0.30版本</p><p><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140928892.jpg" alt="img_202210140928892"></p><p>选择自己安装的mysql版本<img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140929442.jpg" alt="img_202210140929442"></p><p><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140929445.jpg" alt="img_202210140929445"></p><p>这里我自己用的是最新的mysql 8.0.30版本</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;8.0.30&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p>将复制的依赖文件粘贴到pom.xml配置文件中，注意前后要加上<dependencies>和</dependencies>，修改完后该界面的左上角会出现一个刷新按钮，点击刷新，联网状态下IDEA工具会自动帮你下载对应的驱动包</p><p><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140929816.jpg" alt="img_202210140929816"></p><p><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140929823.jpg" alt="img_202210140929823"></p><p>上面的仓库依赖配置好后，就可以进入正式的编程开发了</p><p>（2）具体代码实现</p><p>新建一个Java文件，连接MySQL数据库并进行操作的基本过程如下，</p><p>step1.加载驱动</p><p>注意MySQL 8.0 以上版本的数据库连接要使用：<code>com.mysql.cj.jdbc.Driver</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加载JDBC驱动</span></span><br><span class="line">Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br></pre></td></tr></table></figure><p>step2.定义用户信息和URL参数</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义用户信息和URL参数，连接MySQL用</span></span><br><span class="line"><span class="comment">//studentdb是要连接的数据库，需要提前创建好，且student表已包含两条成绩记录</span></span><br><span class="line"><span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/studentdb&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br></pre></td></tr></table></figure><p>step3.连接数据库</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//连接数据库，使用驱动管理类；connection就表示数据库</span></span><br><span class="line"><span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url, user, password);</span><br></pre></td></tr></table></figure><p>上面的3步是对数据库连接的基本条件，不同的是以下几步</p><p>step4.创建一个SQL语句对象</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建一个SQL语句对象，并用statement来接收</span></span><br><span class="line"><span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connection.createStatement();</span><br></pre></td></tr></table></figure><p>step5.定义SQL语句</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义SQL修改语句，插入一条新数据</span></span><br><span class="line"><span class="type">String</span> <span class="variable">sql1</span> <span class="operator">=</span> <span class="string">&quot;insert into `student` (Name,English,Math,Computer) values (&#x27;scofield&#x27;,&#x27;45&#x27;,&#x27;89&#x27;,&#x27;100&#x27;)&quot;</span>;</span><br></pre></td></tr></table></figure><p>step6.查询执行SQL语句后的结果</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//执行查询SQL语句，查看返回结果</span></span><br><span class="line"><span class="type">String</span> <span class="variable">sql2</span> <span class="operator">=</span> <span class="string">&quot;select * from student&quot;</span>;</span><br><span class="line"><span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span> statement.executeQuery(sql2);</span><br></pre></td></tr></table></figure><p>step7.释放连接</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//关闭数据库连接</span></span><br><span class="line">resultSet.close();</span><br><span class="line">statement.close();</span><br><span class="line">connection.close();</span><br></pre></td></tr></table></figure><ul><li>向student表中添加一条记录</li></ul><p>这里主要用到的SQL代码如下，</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义了SQL修改语句，插入一条新数据，并返回查询结果</span></span><br><span class="line"><span class="type">String</span> <span class="variable">sql1</span> <span class="operator">=</span> <span class="string">&quot;insert into `student`(Name,English,Math,Computer) values (&#x27;scofield&#x27;,&#x27;45&#x27;,&#x27;89&#x27;,&#x27;100&#x27;)&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">sql2</span> <span class="operator">=</span> <span class="string">&quot;select * from student&quot;</span>;</span><br></pre></td></tr></table></figure><p>控制台返回的结果：</p><p><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140930818.jpg" alt="img_202210140930818"></p><p>完整代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainActivity</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException &#123;</span><br><span class="line">        <span class="comment">//1.加载JDBC驱动</span></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">        <span class="comment">//2.定义用户信息和URL参数，连接MySQL用</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/studentdb&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="comment">//3.连接数据库，使用驱动管理类；connection就表示数据库</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url, user, password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//判断一下数据库连接状态</span></span><br><span class="line">        <span class="keyword">if</span>(connection == <span class="literal">null</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;连接失败！&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;连接成功！&quot;</span>);</span><br><span class="line">            <span class="comment">//4.创建一个SQL语句对象，并用statement来接收</span></span><br><span class="line">            <span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connection.createStatement();</span><br><span class="line">            <span class="comment">//5.定义SQL修改语句，插入一条新数据</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql1</span> <span class="operator">=</span> <span class="string">&quot;insert into `student` (Name,English,Math,Computer) values (&#x27;scofield&#x27;,&#x27;45&#x27;,&#x27;89&#x27;,&#x27;100&#x27;)&quot;</span>;</span><br><span class="line">            <span class="comment">//判断数据库是否修改成功，根据受影响的行数 &gt;= 1，即修改成功</span></span><br><span class="line">            <span class="keyword">if</span>(statement.executeUpdate(sql1) &gt;= <span class="number">1</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;数据插入成功！&quot;</span>);</span><br><span class="line">                <span class="comment">//6.执行查询SQL语句，查看返回结果</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">sql2</span> <span class="operator">=</span> <span class="string">&quot;select * from student&quot;</span>;</span><br><span class="line">                <span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span> statement.executeQuery(sql2);</span><br><span class="line">                System.out.println(<span class="string">&quot;student表中数据如下：&quot;</span>);</span><br><span class="line">                System.out.println(<span class="string">&quot;Name&quot;</span>+<span class="string">&quot;\t&quot;</span>+<span class="string">&quot;English&quot;</span>+<span class="string">&quot;\t&quot;</span>+<span class="string">&quot;Math &quot;</span>+<span class="string">&quot;Computer&quot;</span>);</span><br><span class="line">                <span class="keyword">while</span> (resultSet.next())&#123;</span><br><span class="line">                    System.out.print(resultSet.getString(<span class="string">&quot;Name&quot;</span>)+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">                    System.out.print(resultSet.getInt(<span class="string">&quot;English&quot;</span>)+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">                    System.out.print(resultSet.getInt(<span class="string">&quot;Math&quot;</span>)+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">                    System.out.println(resultSet.getInt(<span class="string">&quot;Computer&quot;</span>)+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//7.关闭数据库连接</span></span><br><span class="line">                resultSet.close();</span><br><span class="line">                statement.close();</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;数据插入失败！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>获取scofield的English成绩信息</li></ul><p>数据库连接的前3步操作一样，这里需要更改查询语句，并返回查询结果。</p><p>这里主要用到的SQL代码如下，</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//定义SQL查询语句，查询scofield的English成绩</span><br><span class="line">String sql = &quot; select Name,English from student where Name = &#x27;scofield&#x27;&quot;;</span><br></pre></td></tr></table></figure><p>控制台返回的结果：</p><p><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140931911.jpg" alt="img_202210140931911"></p><p>完整代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SelectResults</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException &#123;</span><br><span class="line">        <span class="comment">//1.加载JDBC驱动</span></span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">        <span class="comment">//2.定义用户信息和URL参数，连接MySQL用</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/studentdb&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="comment">//3.连接数据库，使用驱动管理类；connection就表示数据库</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> DriverManager.getConnection(url, user, password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//判断一下数据库连接状态</span></span><br><span class="line">        <span class="keyword">if</span>(connection == <span class="literal">null</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;连接失败！&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;连接成功！&quot;</span>);</span><br><span class="line">            <span class="comment">//4.创建一个SQL语句对象，并用statement来接收</span></span><br><span class="line">            <span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> connection.createStatement();</span><br><span class="line">            <span class="comment">//5.定义SQL查询语句，查询scofield的English成绩</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot; select Name,English from student where Name = &#x27;scofield&#x27;&quot;</span>;</span><br><span class="line">            <span class="comment">//判断数据库是否查询成功，当返回结果不为空时，即查询成功</span></span><br><span class="line">            <span class="type">ResultSet</span> <span class="variable">resultSet</span> <span class="operator">=</span> statement.executeQuery(sql);</span><br><span class="line">            <span class="keyword">if</span>(resultSet != <span class="literal">null</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;成绩查询成功！&quot;</span>);</span><br><span class="line">                <span class="comment">//6.执行查询SQL语句，查看返回结果</span></span><br><span class="line">                System.out.println(<span class="string">&quot;student表中查询结果如下：&quot;</span>);</span><br><span class="line">                System.out.println(<span class="string">&quot;Name&quot;</span>+<span class="string">&quot;\t&quot;</span>+<span class="string">&quot;English&quot;</span>);</span><br><span class="line">                <span class="keyword">while</span> (resultSet.next())&#123;</span><br><span class="line">                    System.out.print(resultSet.getString(<span class="string">&quot;Name&quot;</span>)+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">                    System.out.print(resultSet.getInt(<span class="string">&quot;English&quot;</span>)+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//7.关闭数据库连接</span></span><br><span class="line">                resultSet.close();</span><br><span class="line">                statement.close();</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;成绩查询失败！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="三、遇到的问题及解决方案"><a href="#三、遇到的问题及解决方案" class="headerlink" title="三、遇到的问题及解决方案"></a>三、遇到的问题及解决方案</h2><h3 id="1、找MySQL连接Java的驱动包"><a href="#1、找MySQL连接Java的驱动包" class="headerlink" title="1、找MySQL连接Java的驱动包"></a>1、找MySQL连接Java的驱动包</h3><ul><li>问题描述</li></ul><p>参考网络上绝大部分Java操作MySQL的教程，都是使用jar驱动包来操作。</p><p>操作教程可参考<a href="https://www.runoob.com/java/java-mysql-connect.html">菜鸟教程</a>上的Java连接MySQL的操作，下载好驱动包后，用添加库的方式导入到对应项目中。最新版下载地址为：<a href="http://dev.mysql.com/downloads/connector/j/%EF%BC%8C%E8%A7%A3%E5%8E%8B%E5%90%8E%E5%BE%97%E5%88%B0">http://dev.mysql.com/downloads/connector/j/，解压后得到</a> jar 库文件，然后在对应的项目中导入该库文件。尴尬的是进入官网后并没有找到对应自己版本的MySQL驱动包，我用的是8.0.30版本，应该是目前最新的版本，官网并未提供该版本的驱动包，这简直让我蚌埠住了。</p><p><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140935328.jpg" alt="img_202210140935328"></p><ul><li>解决方案</li></ul><p>幸运的是我之前做过Java操作MongoDB数据库连接的案例，导库方式采用的是maven库的依赖文件(在maven官网也可在里面下载jar包，这里更推荐用依赖文件)。想必Java与数据库连接过程大体类似，索性就看了下相关的Java使用maven项目来操作MySQL的教程，确实可以这样操作。于是就有了前面新建maven工程的方式来连接MySQL。需要注意的是，添加依赖代码时需要加上<dependencies>和</dependencies>，然后刷新一下maven库，否则会出现报错。</p><p><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140935637.jpg" alt="img_202210140935637"></p><h3 id="2、JDBC中——Class-forName-com-mysql-cj-jdbc-Driver"><a href="#2、JDBC中——Class-forName-com-mysql-cj-jdbc-Driver" class="headerlink" title="2、JDBC中——Class.forName(com.mysql.cj.jdbc.Driver)"></a>2、JDBC中——Class.forName(com.mysql.cj.jdbc.Driver)</h3><p><strong>MySQL 8.0 以上版本的数据库连接有所不同：</strong></p><ul><li><code>com.mysql.jdbc.Driver</code> 更换为 <code>com.mysql.cj.jdbc.Driver</code>。</li></ul><p>若使用以下代码，程序可以返回正确结果，但程序会抛出异常。更改为<code>com.mysql.cj.jdbc.Driver</code>可以解决。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//加载JDBC驱动</span><br><span class="line">Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);</span><br></pre></td></tr></table></figure><p>对Class.forName(com.mysql.cj.jdbc.Driver)的深入理解，可以参考这篇文章：</p><p><a href="http://t.csdn.cn/q37Yi">jdbc（2）——之Class.forName(com.mysql.cj.jdbc.Driver)理解</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;MySQL案例1-MySQL的简单应用及用Java操作&quot;&gt;&lt;a href=&quot;#MySQL案例1-MySQL的简单应用及用Java操作&quot; class=&quot;headerlink&quot; title=&quot;MySQL案例1 MySQL的简单应用及用Java操作&quot;&gt;&lt;/a&gt;MySQL</summary>
      
    
    
    
    <category term="MySQL数据库" scheme="https://ariesfun.gitee.io/categories/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="MySQL" scheme="https://ariesfun.gitee.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MySQL数据库 第二章 SQL语句</title>
    <link href="https://ariesfun.gitee.io/posts/5375.html"/>
    <id>https://ariesfun.gitee.io/posts/5375.html</id>
    <published>2022-10-05T18:08:29.328Z</published>
    <updated>2022-10-16T17:36:15.247Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MySQL数据库-第二章-SQL语句"><a href="#MySQL数据库-第二章-SQL语句" class="headerlink" title="MySQL数据库 第二章 SQL语句"></a>MySQL数据库 第二章 SQL语句</h1><p>SQL是一种特殊目的的编程语言，是一种数据库查询和程序设计语言，用于存取数据以及查询、更新和管理关系数据库系统。</p><h2 id="一、SQL语句分类"><a href="#一、SQL语句分类" class="headerlink" title="一、SQL语句分类"></a>一、SQL语句分类</h2><ul><li><p>DCL(Data Control Language)：数据控制语言，用来定义访问权限和安全级别。（不太重要，一般用navicat图形化界面来操作）</p></li><li><p>DDL(Data Definition Language)：数据定义语言，用来定义数据库对象：库、表、列等。功能：创建、删除、修改库和表结构。</p></li><li><p>DML(Data Manipulation Language)：数据操作语言，用来定义数据库记录：增、删、改表记录。</p></li><li><p>DQL(Data Query Language)：数据查询语言，用来查询记录。也是本章学习的重点。（！！！很重要）</p></li></ul><h2 id="二、DCL-数据控制语言-语法学习"><a href="#二、DCL-数据控制语言-语法学习" class="headerlink" title="二、DCL(数据控制语言)语法学习"></a>二、DCL(数据控制语言)语法学习</h2><h3 id="DCL-Data-Control-Language-：数据控制语言，用来定义访问权限和安全级别。DCL语言可用navicat软件来进行图形化界面操作。"><a href="#DCL-Data-Control-Language-：数据控制语言，用来定义访问权限和安全级别。DCL语言可用navicat软件来进行图形化界面操作。" class="headerlink" title="DCL(Data Control Language)：数据控制语言，用来定义访问权限和安全级别。DCL语言可用navicat软件来进行图形化界面操作。"></a>DCL(Data Control Language)：数据控制语言，用来定义访问权限和安全级别。<strong>DCL语言可用navicat软件来进行图形化界面操作。</strong></h3><p><strong>tips:！！！该节内容不是很重要</strong></p><h3 id="1、创建用户、修改密码、删除用户"><a href="#1、创建用户、修改密码、删除用户" class="headerlink" title="1、创建用户、修改密码、删除用户"></a>1、创建用户、修改密码、删除用户</h3><h4 id="（1）创建用户"><a href="#（1）创建用户" class="headerlink" title="（1）创建用户"></a>（1）创建用户</h4><p>创建一个用户，让该用户只能在指定ip地址或任意ip地址上来登录mysql</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建用户</span></span><br><span class="line"><span class="comment">-- 指定ip，语法：create user &#x27;用户名&#x27;@&#x27;ip地址&#x27; identified by &#x27;密码&#x27;;</span></span><br><span class="line"><span class="comment">-- 任意ip，ip地址段用‘%’来表示，例如</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;root&#x27;</span>;</span><br></pre></td></tr></table></figure><h4 id="（2）修改密码"><a href="#（2）修改密码" class="headerlink" title="（2）修改密码"></a>（2）修改密码</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改密码，8.0版本的mysql直接赋值新密码就行</span></span><br><span class="line"><span class="comment">-- 注意:若创建用户后直接连接mysql了，修改密码后需用新密码重新连接，再进行后面的测试</span></span><br><span class="line"><span class="comment">-- 语法：set password for &#x27;用户名&#x27;@&#x27;ip地址&#x27; = &#x27;新密码&#x27;;</span></span><br><span class="line"><span class="keyword">set</span> password <span class="keyword">for</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;123456&#x27;</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 以上是用sql语句来操作，如果直接修改表，也是可以创建用户和修改密码的，但是要在mysql数据库下的user表修改，改完后需要刷新权限后才能生效，刷新语句如下</span></span><br><span class="line">flush privileges;<span class="comment">-- 在本地数据库下刷新</span></span><br></pre></td></tr></table></figure><h4 id="（3）删除用户"><a href="#（3）删除用户" class="headerlink" title="（3）删除用户"></a>（3）删除用户</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除用户</span></span><br><span class="line"><span class="comment">-- 语法：drop user &#x27;用户名&#x27;@&#x27;ip地址&#x27;;</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="2、给用户授予权限、撤销权限，查看权限"><a href="#2、给用户授予权限、撤销权限，查看权限" class="headerlink" title="2、给用户授予权限、撤销权限，查看权限"></a>2、给用户授予权限、撤销权限，查看权限</h3><p>给【指定用户】在【指定数据库】上赋予【指定权限】，权限有很多，常用的有以下几个：</p><ul><li>create：可以创建数据库</li><li>insert：可以插入数据</li><li>delete：可以删除数据</li><li>select：可以查询数据</li><li>update：可以更新数据</li></ul><h4 id="（1）授权"><a href="#（1）授权" class="headerlink" title="（1）授权"></a>（1）授权</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 授权（包含所有权限或指定权限）</span></span><br><span class="line"><span class="comment">-- 语法 ：grant 权限1,权限2,... on `数据库名`.`某表` to &#x27;用户名&#x27;@&#x27;ip地址&#x27;;</span></span><br><span class="line"><span class="comment">-- 注意：这里数据库名和表名用了撇符号``（按键在键盘左上角,用&#x27;&#x27;单引号也可以），这样写的目的是防止将名称识别成关键字,造成sql语句执行失败</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">on</span> `student`.`<span class="keyword">user</span>` <span class="keyword">to</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 授权所有的表，用&quot;*&quot;</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">on</span> `student`.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 授予指定权限</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span>,<span class="keyword">insert</span>,<span class="keyword">delete</span>,<span class="keyword">select</span>,<span class="keyword">update</span> <span class="keyword">on</span> `student`.`<span class="keyword">user</span>` <span class="keyword">to</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure><h4 id="（2）撤销权限"><a href="#（2）撤销权限" class="headerlink" title="（2）撤销权限"></a>（2）撤销权限</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 撤销权限（包含所有权限或指定权限）</span></span><br><span class="line"><span class="comment">-- 语法：revoke 权限1,权限2,... on &#x27;数据库名&#x27;.&#x27;某表&#x27; from &#x27;用户名&#x27;@&#x27;ip地址&#x27;;</span></span><br><span class="line"><span class="keyword">revoke</span> <span class="keyword">all</span> <span class="keyword">on</span> `student`.`<span class="keyword">user</span>` <span class="keyword">from</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"><span class="keyword">revoke</span> <span class="keyword">create</span>,<span class="keyword">insert</span>,<span class="keyword">delete</span>,<span class="keyword">select</span>,<span class="keyword">update</span> <span class="keyword">on</span> `student`.`<span class="keyword">user</span>` <span class="keyword">from</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure><h4 id="（3）查看权限"><a href="#（3）查看权限" class="headerlink" title="（3）查看权限"></a>（3）查看权限</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看授权</span></span><br><span class="line"><span class="comment">-- 语法：show grants for 用户名 或 &#x27;用户名&#x27;@&#x27;ip地址&#x27;;</span></span><br><span class="line"><span class="keyword">show</span> grants <span class="keyword">for</span> ariesfun;</span><br></pre></td></tr></table></figure><h3 id="3、操作实例"><a href="#3、操作实例" class="headerlink" title="3、操作实例"></a>3、操作实例</h3><h4 id="（1）注意事项"><a href="#（1）注意事项" class="headerlink" title="（1）注意事项"></a>（1）注意事项</h4><p>每条语句选中后单独执行，且输出信息为”OK”说明操作成功<br><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140121828.jpg" alt="Snipaste_2022-10-04_16-23-35"></p><p>新建一个test连接测试DCL语言用，先点测试连接，成功后再点击确定<br><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140121829.jpg" alt="Snipaste_2022-10-04_16-18-51"></p><p>查看数据库中表的权限<br><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140121830.jpg" alt="Snipaste_2022-10-04_16-54-44"></p><h4 id="（2）具体的实例操作"><a href="#（2）具体的实例操作" class="headerlink" title="（2）具体的实例操作"></a>（2）具体的实例操作</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 测试用，以下每一行语句按顺序单独执行一次</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建用户并更改密码</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;root&#x27;</span>;</span><br><span class="line"><span class="keyword">set</span> password <span class="keyword">for</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建数据库</span></span><br><span class="line"><span class="keyword">create</span> database student;</span><br><span class="line"><span class="keyword">show</span> databases;</span><br><span class="line"><span class="comment">-- 新建表，为了方便这里先用navicat软件，在本地连接中的student中新建一张user表和一张score表（后面章节会有基本表的定义语句）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 进行权限操作,授权和撤权成对使用</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">on</span> `student`.`<span class="keyword">user</span>` <span class="keyword">to</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"><span class="keyword">revoke</span> <span class="keyword">all</span> <span class="keyword">on</span> `student`.`<span class="keyword">user</span>` <span class="keyword">from</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span>,<span class="keyword">insert</span>,<span class="keyword">delete</span>,<span class="keyword">select</span>,<span class="keyword">update</span> <span class="keyword">on</span> `student`.`<span class="keyword">user</span>` <span class="keyword">to</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"><span class="keyword">show</span> grants <span class="keyword">for</span> ariesfun;<span class="comment">-- 查看一下授权情况</span></span><br><span class="line"><span class="comment">-- 运行完上面的语句，test连接中的student数据库中又出现了user表</span></span><br><span class="line"><span class="keyword">revoke</span> <span class="keyword">create</span>,<span class="keyword">insert</span>,<span class="keyword">delete</span>,<span class="keyword">select</span>,<span class="keyword">update</span> <span class="keyword">on</span> `student`.`<span class="keyword">user</span>` <span class="keyword">from</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">on</span> `student`.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"><span class="keyword">show</span> grants <span class="keyword">for</span> ariesfun;</span><br><span class="line"><span class="comment">-- test连接中的student数据库中又会出现user表和score表两张表</span></span><br><span class="line"><span class="keyword">revoke</span> <span class="keyword">all</span> <span class="keyword">on</span> `student`.<span class="operator">*</span> <span class="keyword">from</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 最后删除刚创建的用户，再次连接test就会操作失败</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> <span class="string">&#x27;ariesfun&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="三、DDL-数据定义语言"><a href="#三、DDL-数据定义语言" class="headerlink" title="三、DDL(数据定义语言)"></a>三、DDL(数据定义语言)</h2><p>DDL语言主要是用于<strong>定义或改变表（TABLE）结构</strong>，<u>主要的命令有CREATE、ALTER、DROP</u>等</p><h3 id="1、创建表的语法"><a href="#1、创建表的语法" class="headerlink" title="1、创建表的语法"></a>1、创建表的语法</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名 (</span><br><span class="line"></span><br><span class="line">字段名<span class="number">1</span>(即列名) 类型(宽度) 约束条件,</span><br><span class="line"></span><br><span class="line">字段名<span class="number">2</span> 类型(宽度) 约束条件,</span><br><span class="line"></span><br><span class="line">字段名<span class="number">3</span> 类型(宽度) 约束条件,</span><br><span class="line">    </span><br><span class="line">.......</span><br><span class="line">    </span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>在关系型数据库中，我们需要设定表名、列名，同时还需要指定数据类型（常用的：整型、浮点型、字符串型）。</p><h3 id="2、常用的数据类型"><a href="#2、常用的数据类型" class="headerlink" title="2、常用的数据类型"></a>2、常用的数据类型</h3><blockquote><p><strong>整型</strong></p></blockquote><table><thead><tr><th>MySQL数据类型</th><th>含义（默认有符号）</th></tr></thead><tbody><tr><td>tinyint</td><td>1字节，范围（-128~127）</td></tr><tr><td>smallint</td><td>2字节，范围（-32768~32767）</td></tr><tr><td><u>mediumint</u></td><td><u>3字节</u>，范围（-8388608~8388607）</td></tr><tr><td>int</td><td>4字节，范围（-2147483648~2147483647）</td></tr><tr><td>bigint</td><td>8字节，范围（+-9.22 * 10^18^）</td></tr></tbody></table><p>在整型中我们默认使用的都是【有符号】的，当然了，我们也可以<u>加上unsigned关键字，定义成【无符号】的类型</u>，那么对应的取值范围就会发生改变：</p><p>如：tinyint unsigned的取值范围为0~255，</p><p>宽度n的作用需要配合zerofill进行使用( zerofill指0填充)： 如：int(4) unsigned zerofill  ，查询结果: 0001 0002 1000</p><blockquote><p><strong>浮点型</strong></p></blockquote><table><thead><tr><th>MySQL数据类型</th><th>含义</th></tr></thead><tbody><tr><td>float(m, d)</td><td>4字节，单精度浮点型，m总长度，d小数位</td></tr><tr><td>double(m, d)</td><td>8字节，双精度浮点型，m总长度，d小数位（可用来表示很大或很小的数）</td></tr><tr><td>decimal(m, d)</td><td>decimal是存储为字符串的浮点数(无误差且精度高，可用来表示余额)，对应Java中的Bigdecimal</td></tr></tbody></table><p>我们用一个例子来判断小括号内参数的含义，针对数据类型为float(5, 3)的列，做了以下试验：</p><ul><li>插入123.45678，最后查询得到的结果为99.999（会取满足条件的最大值）；</li><li>插入12.34567，最后查询结果为12.346（会有四舍五入）；</li></ul><p>所以，在使用浮点型的时候，还是要注意陷阱，要以插入数据库中的实际结果为准。</p><blockquote><p><strong>字符串型</strong></p></blockquote><table><thead><tr><th>MySQL数据类型</th><th>含义</th></tr></thead><tbody><tr><td>char(n)，n指字符个数</td><td>固定长度，最多255个字节（字符）</td></tr><tr><td>varchar(n)</td><td>可变长度，最大容量65535个字节</td></tr><tr><td>tinytext</td><td>可变长度，最大容量255个字节</td></tr><tr><td>text</td><td>可变长度，最大容量65535个字节</td></tr><tr><td>mediumtext</td><td>可变长度，最大容量2^24^-1个字节，16MB</td></tr><tr><td>longtext</td><td>可变长度，最大容量2^32^-1个字节， 4GB</td></tr></tbody></table><p><strong>（1）char和varchar两类型的区别（这两个也最常用）：</strong></p><ul><li>char类型是【<strong>定长</strong>】的类型，即当定义的是char(10)，输入的是”abc”这三个字符时，它们占的空间一样是10个字符，包括7个空字节。当输入的字符长度超过指定的数时，char会截取超出的字符。而且，当存储char值时，MySQL会自动删除输入字符串末尾的空格。</li><li><strong>char类型适合存储很短的、一般固定长度的字符串。</strong>例如，用char(1)来定义性别；char类型非常适合存储密码的MD5值（将不定长的变为定长的值），因为MD5是一个定长的值。对于非常短的列，char比varchar在存储空间上也更有效率。</li><li><strong>varchar(n)类型用于存储【可变长】的类型，且长度最大为n个字符的可变长度字符数据</strong>。比如varchar(10), 输入abc三个字符，那么实际存储大小为3个字节。除此之外，varchar还需要使用1或2个额外字节记录字符串的长度，如果列的最大长度小于等于255字节（是定义的最长长度，不是实际长度），则使用1个字节表示长度，否则使用2个字节来表示。n表示的是最大的长度。</li><li><u>char类型每次修改的数据长度相同，效率更高；varchar类型每次修改的数据长度不同，效率更低。</u></li></ul><p><strong>（2）varchar和text</strong></p><ul><li><p>text不能设置默认值，varchar可以。</p></li><li><p>text类型，包括（MEDIUMTEXT，LONGTEXT）也受单表 65535 <strong>最大行宽度限制</strong>，所以他支持溢出存储，只会存放前 768 字节在数据页中，而剩余的数据则会存储在溢出段中(磁盘上)。虽然 text 字段会把超过 768 字节的大部分数据溢出存放到硬盘其他空间，看上去是会更加增加磁盘压力。但从处理形态上来讲 varchar 大于 768 字节后，实质上存储和 text 差别不是太大了。因为超长的 varchar 也是会用到溢出存储，读取该行也是要去读硬盘然后加载到内存，基本认为是一样的。</p></li><li><p><u>根据存储的实现：可以考虑用 varchar 替代 text，因为 varchar 存储更弹性，存储数据少的话性能更高</u>。</p></li><li><p>如果存储的数据大于64K，就必须使用到 mediumtext或longtext，因为 varchar 已经存不下了。</p></li><li><p>如果 varchar(255+) 存储大于255字节后，和 text 在存储机制是一样的，性能也相差无几。</p><p>详细解释可参考文章：<a href="http://t.csdn.cn/mrgk1">MySQL 的 varchar 与 text 对比</a></p></li></ul><blockquote><p><strong>日期和时间数据类型</strong></p></blockquote><table><thead><tr><th>MySQL数据类型</th><th>含义</th></tr></thead><tbody><tr><td>date</td><td>3字节，日期，格式：2022-10-01</td></tr><tr><td>time</td><td>3字节，时间，格式：08:00:00</td></tr><tr><td>datetime</td><td>8字节，日期时间，格式：2022-10-01 08:00:00</td></tr><tr><td>timestamp</td><td>4字节，自动存储记录修改的时间</td></tr><tr><td>year</td><td>1字节，年份</td></tr></tbody></table><h3 id="3、建表约束"><a href="#3、建表约束" class="headerlink" title="3、建表约束"></a>3、建表约束</h3><p>目前我们已经学会了如何创建表，但是一张表不止有一列，且数据库中的表不止有一个，建表约束说的就是，我们应该<strong>如何规范表中的数据以及表和表的关系</strong>。</p><h4 id="（1）MySQL约束类型"><a href="#（1）MySQL约束类型" class="headerlink" title="（1）MySQL约束类型"></a>（1）MySQL约束类型</h4><table><thead><tr><th>约束名称</th><th>描述</th></tr></thead><tbody><tr><td>NOT NULL</td><td>非空约束（不是 null）</td></tr><tr><td>UNIQUE</td><td>唯一约束，取值不允许重复</td></tr><tr><td>PRIMARY KEY</td><td>主键约束（主关键字），自带非空、唯一、索引约束属性</td></tr><tr><td>DEFAULT</td><td>默认值（缺省值）</td></tr><tr><td>FOREIGN KEY</td><td>外键约束（外关键字，会用到其他表信息）</td></tr></tbody></table><h4 id="（2）NOT-NULL约束"><a href="#（2）NOT-NULL约束" class="headerlink" title="（2）NOT NULL约束"></a>（2）NOT NULL约束</h4><p>非空约束指的是，如果我们要在这张表中添加数据，<u>设定了非空约束的列必须要赋值，不能为空</u></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-- 先创建一个书店的数据库</span><br><span class="line">create database bookstore;-- 用database或schema来创建的作用一样</span><br><span class="line">-- 创建作者表</span><br><span class="line">create table `bookstore`.`author`(</span><br><span class="line">    aut_id int, </span><br><span class="line">    aut_name varchar(50) not null,-- 这就是非空约束的定义</span><br><span class="line">gander char(1) default &#x27;男&#x27;,</span><br><span class="line">country varchar(50),</span><br><span class="line">birthday datetime-- 最后不用加逗号</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h4 id="（3）UNIQUE约束"><a href="#（3）UNIQUE约束" class="headerlink" title="（3）UNIQUE约束"></a>（3）UNIQUE约束</h4><p>唯一约束指的是，如果我们要在这张表中添加数据，<u>设定了唯一约束的列中的值不能有重复，不能为空</u></p><ul><li>唯一约束，实现方法1（在表的定义最后施加）</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建图书表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `bookstore`.`book`(</span><br><span class="line"><span class="comment">-- 或者加上&quot;if not&quot;表示如果不存在就建该表,eg.create table if not `ydlclass`.`book`该语句跟上边语句作用一样</span></span><br><span class="line">book_id <span class="type">int</span> <span class="keyword">primary</span>,</span><br><span class="line">book_name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">bar_code <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">aut_id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"><span class="keyword">foreign</span> key (key_id) <span class="keyword">references</span> author(aut_id)，<span class="comment">-- 外键约束</span></span><br><span class="line">    <span class="keyword">unique</span>(bar_code)   <span class="comment">-- 这就是唯一约束的定义</span></span><br><span class="line">);<span class="comment">-- sql语句单句执行时最后面可不用加&quot;;&quot;</span></span><br></pre></td></tr></table></figure><ul><li>实现方法2（在字段名定义的后面施加）</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建图书表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `bookstore`.`book`(</span><br><span class="line">book_id <span class="type">int</span> <span class="keyword">primary</span>,</span><br><span class="line">book_name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">bar_code <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span>,  <span class="comment">-- 这就是唯一约束的定义</span></span><br><span class="line">aut_id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h4 id="（4）DEFAULT约束"><a href="#（4）DEFAULT约束" class="headerlink" title="（4）DEFAULT约束"></a>（4）DEFAULT约束</h4><p>默认约束指的是，如果我们要在这张表中添加数据，<u>如果为给设定了默认约束的列赋值，该列会自动填充默认值</u></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建作者表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `bookstore`.`author`(</span><br><span class="line">    aut_id <span class="type">int</span>, </span><br><span class="line">    aut_name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">gander <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">default</span> <span class="string">&#x27;男&#x27;</span>, <span class="comment">-- 这就是默认约束</span></span><br><span class="line">country <span class="type">varchar</span>(<span class="number">50</span>),</span><br><span class="line">birthday datetime</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h4 id="（5）PRIMARY-KEY约束"><a href="#（5）PRIMARY-KEY约束" class="headerlink" title="（5）PRIMARY KEY约束"></a>（5）PRIMARY KEY约束</h4><p>主键（PRIMARY KEY）的完整称呼是“主键约束”，是 MySQL中使用最为频繁的约束。一般情况下，为了便于 DBMS 更快的查找到表中的记录，都会在表中设置一个主键。</p><p>主键分为<u>单字段主键和多字段联合主键</u>，本节将分别讲解这两种主键约束的创建、修改和删除。</p><p>使用主键应注意以下几点：</p><ul><li><u>每个表只能定义一个主键。</u></li><li><u>主键值必须唯一标识表中的每一行，且不能为 NULL</u>，即表中不可能存在有相同主键值的两行数据。这是唯一性原则。</li><li><u>一个字段名只能在联合主键字段表中出现一次。</u></li><li>【联合主键】不能包含不必要的多余字段。当把联合主键的某一字段删除后，如果剩下的字段构成的主键仍然满足唯一性原则，那么这个联合主键是不正确的。这是最小化原则。</li></ul><blockquote><p><strong>单个字段作为主键</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建作者表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `bookstore`.`author`(</span><br><span class="line">    aut_id <span class="type">int</span> <span class="keyword">primary</span> key,      <span class="comment">-- 这就是主键约束 </span></span><br><span class="line">    <span class="comment">-- 主键约束也可用&quot;primary key(aud_id)&quot;来定义主键或联合主键，但要放在语句最后</span></span><br><span class="line">    aut_name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">gander <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">default</span> <span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">country <span class="type">varchar</span>(<span class="number">50</span>),</span><br><span class="line">birthday datetime</span><br><span class="line">);</span><br></pre></td></tr></table></figure><blockquote><p><strong>联合主键：多个字段同时作为主键</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建作者表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `bookstore`.`author`(</span><br><span class="line">`aut_id` <span class="type">int</span> ,</span><br><span class="line">`aut_name` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">`gander` <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">default</span> <span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">`country` <span class="type">varchar</span>(<span class="number">50</span>),</span><br><span class="line">`brithday` datetime,</span><br><span class="line"><span class="keyword">primary</span> key(aut_id,aut_name)   <span class="comment">-- 这就是联合主键</span></span><br><span class="line">);  </span><br></pre></td></tr></table></figure><h4 id="（6）AUTO-INCREMENT约束"><a href="#（6）AUTO-INCREMENT约束" class="headerlink" title="（6）AUTO_INCREMENT约束"></a>（6）AUTO_INCREMENT约束</h4><p><strong>需要配合主键使用</strong>，有个这个约束，我们在向表中插入数据时，不需要额外关心主键的数据，<u>它会自动帮我们维护一个递增的主键</u></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建图书表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `bookstore`.`book`(</span><br><span class="line">book_id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,<span class="comment">-- 这就是自动递增</span></span><br><span class="line">book_name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">bar_code <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">aut_id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h4 id="（7）FOREIGN-KEY约束"><a href="#（7）FOREIGN-KEY约束" class="headerlink" title="（7）FOREIGN KEY约束"></a>（7）FOREIGN KEY约束</h4><p>外键维护的表与表之间的关系，<u>它规定了当前列的数据必须来源于一张其他表的某一列中的主键</u></p><p>外键会产生的效果</p><p><u>1、删除表时，如果不删除引用外键的表，被引用的表不能直接删除</u></p><p><u>2、外键的值必须来源于引用的表的主键字段</u></p><h4 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h4><blockquote><p><strong>FOREIGN KEY (column list) REFERENCES [primary key table] (column list);</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建作者表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `bookstore`.`author`(</span><br><span class="line">    aut_id <span class="type">int</span> <span class="keyword">primary</span> key, </span><br><span class="line">    aut_name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">gander <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">default</span> <span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">country <span class="type">varchar</span>(<span class="number">50</span>),</span><br><span class="line">birthday datetime</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建图书表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `bookstore`.`book`(</span><br><span class="line">book_id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">book_name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">bar_code <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">aut_id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line"><span class="keyword">foreign</span> key (aut_id) <span class="keyword">references</span> author(aut_id)<span class="comment">-- 这就是外键约束</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><h4 id="4、对表的修改操作"><a href="#4、对表的修改操作" class="headerlink" title="4、对表的修改操作"></a>4、对表的修改操作</h4><p>查看当前数据库中所有表:<code>SHOW TABLES;</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看所有表</span></span><br><span class="line"><span class="keyword">show</span> tables;</span><br></pre></td></tr></table></figure><p>查看表结构:<code>DESC 表名;</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查看表结构</span></span><br><span class="line"><span class="keyword">desc</span> authors;</span><br></pre></td></tr></table></figure><p><u>修改表有5个操作</u>，但语法前缀都是一样的:<code>ALTER TABLE 表名...</code>（不重要）</p><ul><li><p>添加列（语法）：<code>ALTER TABLE 表名 add (列名 列类型，... ，列名 列类型);</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 给author表添加列</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> author <span class="keyword">add</span> (hobby <span class="type">varchar</span>(<span class="number">20</span>),address <span class="type">varchar</span>(<span class="number">50</span>));</span><br></pre></td></tr></table></figure></li><li><p>修改列类型： <code>ALTER TABLE 表名 MODIFY 列名 列的新类型;</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 给author表修改列类型</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> author modify address <span class="type">varchar</span>(<span class="number">100</span>);</span><br></pre></td></tr></table></figure></li><li><p>列名称、列类型一起修改：<code>ALTER TABLE 表名 CHANGE 原列名 新列名 列名类型;</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 改变列名和属性</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> author change address addr <span class="type">varchar</span>(<span class="number">60</span>);</span><br></pre></td></tr></table></figure></li><li><p>删除列：<code>ALTER TABLE 表名 DROP 列名;</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除列</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> author <span class="keyword">drop</span> addr;</span><br></pre></td></tr></table></figure></li><li><p>修改表名：<code>ALTER TABLE 表名 RENAME TO 新表名</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改表名</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> author rename authors;</span><br></pre></td></tr></table></figure></li><li><p>删除表：<code>ALTER TABLE 表名 DROP 列名;</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- !!!删除表，需谨慎操作</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> `<span class="keyword">user</span>`;</span><br></pre></td></tr></table></figure></li></ul><h3 id="四、DML-数据操作语言-（！！！很重要）"><a href="#四、DML-数据操作语言-（！！！很重要）" class="headerlink" title="四、DML(数据操作语言)（！！！很重要）"></a>四、DML(数据操作语言)（！！！很重要）</h3><p>该语言用来对表记录进行<strong>操作（增、删、改）</strong>，<u>不包含查询</u>。</p><h4 id="1、插入数据"><a href="#1、插入数据" class="headerlink" title="1、插入数据"></a>1、插入数据</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 插入数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `authors` (aut_name,gander,country,birthday,hobby) <span class="keyword">values</span> (<span class="string">&#x27;海伦·凯勒&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;漂亮国&#x27;</span>,<span class="string">&#x27;1960-1-1&#x27;</span>,<span class="string">&#x27;旅游&#x27;</span>); </span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `authors` <span class="keyword">values</span> (<span class="string">&#x27;余华&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;中国&#x27;</span>,<span class="string">&#x27;1970-1-1&#x27;</span>,<span class="string">&#x27;看书&#x27;</span>);</span><br></pre></td></tr></table></figure><p><strong>说明:</strong></p><ol><li>在数据库中所有的<strong>字符串类型，必须使用单引号</strong>。</li><li>(列名1，列名2，列名3)可省略，表示按照表中的顺序插入。但不建议采取这种写法，因为降低了程序的可读性。</li></ol><p>当然我们还可以批量插入：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 批量插入数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `authors` (aut_name,gander,country,birthday,hobby) <span class="keyword">values</span> (<span class="string">&#x27;海伦·凯勒&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="string">&#x27;漂亮国&#x27;</span>,<span class="string">&#x27;1960-1-1&#x27;</span>,<span class="string">&#x27;旅游&#x27;</span>),(<span class="string">&#x27;余华&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;中国&#x27;</span>,<span class="string">&#x27;1970-1-1&#x27;</span>,<span class="string">&#x27;看书&#x27;</span>); <span class="comment">-- 可批量插入</span></span><br></pre></td></tr></table></figure><h4 id="2、修改记录"><a href="#2、修改记录" class="headerlink" title="2、修改记录"></a>2、修改记录</h4><p>修改某列的全部值：<code>update 表名 set 列名1=列值1(，列名2=列值2)(, ... );</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改数据</span></span><br><span class="line"><span class="keyword">update</span> `authors` <span class="keyword">set</span> aut_name <span class="operator">=</span> <span class="string">&#x27;鲁迅&#x27;</span>,country<span class="operator">=</span><span class="string">&#x27;中国&#x27;</span>;</span><br></pre></td></tr></table></figure><p>上边的语句会改表中所有的数据全部修改，因此我们可以使用where语句进行限制，</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> `authors` <span class="keyword">set</span> aut_name <span class="operator">=</span> <span class="string">&#x27;马云&#x27;</span> <span class="keyword">where</span> aut_id <span class="operator">=</span> <span class="number">5</span>;<span class="comment">-- 限制条件可以是其他逻辑运算</span></span><br></pre></td></tr></table></figure><p>where是一个很关键的关键字，我们可以使用where关键字实现丰富的筛选，他很像我们的if语句，可以使用各种条件运算：</p><p>可使用的逻辑运算符如下：<code>=、!=、&lt;&gt;、&lt;、&gt;、&gt;=、&lt;=、between...and、in(…)、is null、not、or、and</code>，其中in(a,b,… )的用法表示集合，选中限制下的那几条数据。</p><ul><li><code>where aut_id &gt;1</code></li><li><code>where aut_id in (1,3,5) -- 修改指定的三条数据</code></li><li><code>where aut_id between 1 and 4 -- 修改从id从1到4的数据</code></li><li><code>where aut_id &gt;1 and aut_name=&#39;xxx&#39; --多条限制 </code></li><li><code>where aut_name is null -- 修改为空的</code></li><li><code>where aut_name is not null -- 修改不为空的</code> </li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 字符串也使用&quot;=&quot;比较，不是&quot;==&quot;也不是&quot;equals&quot;</span></span><br><span class="line"><span class="keyword">update</span> `authors` <span class="keyword">set</span> aut_name <span class="operator">=</span> <span class="string">&#x27;赵四&#x27;</span>,</span><br><span class="line"><span class="comment">-- 使用in关键字</span></span><br><span class="line"><span class="keyword">update</span> `authors` <span class="keyword">set</span> aut_name <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span>,country<span class="operator">=</span><span class="string">&#x27;中国&#x27;</span> <span class="keyword">where</span> aut_id <span class="keyword">in</span>(<span class="number">5</span>,<span class="number">7</span>); <span class="comment">-- 修改指定的两条数据</span></span><br><span class="line"><span class="comment">-- 限制条件可以是其他任何逻辑运算</span></span><br><span class="line"><span class="keyword">update</span> `authors` <span class="keyword">set</span> aut_name <span class="operator">=</span> <span class="string">&#x27;王五&#x27;</span>,country<span class="operator">=</span><span class="string">&#x27;中国&#x27;</span> <span class="keyword">where</span> gander <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span> <span class="keyword">and</span> country <span class="operator">=</span> <span class="string">&#x27;中国&#x27;</span>;</span><br><span class="line"><span class="comment">-- 使用between...and关键字</span></span><br><span class="line"><span class="keyword">update</span> `authors` <span class="keyword">set</span> aut_name <span class="operator">=</span> <span class="string">&#x27;张伟&#x27;</span>,country<span class="operator">=</span><span class="string">&#x27;中国&#x27;</span> <span class="keyword">where</span> aut_id <span class="keyword">between</span> <span class="number">5</span> <span class="keyword">and</span> <span class="number">7</span>;</span><br><span class="line"><span class="comment">-- 空值使用is null \  is not null</span></span><br><span class="line"><span class="keyword">update</span> `authors` <span class="keyword">set</span> aut_name <span class="operator">=</span> <span class="string">&#x27;王五&#x27;</span>,country<span class="operator">=</span><span class="string">&#x27;中国&#x27;</span> <span class="keyword">where</span> birthday <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure><h4 id="3、删除数据"><a href="#3、删除数据" class="headerlink" title="3、删除数据"></a>3、删除数据</h4><p>语法：<code>delete from 表名 (where 条件);</code></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- !!!删除表,删除条件可以是任何的逻辑运算（in,between...）</span><br><span class="line">delete from authors; -- delete是按行删，俗称删库跑路</span><br></pre></td></tr></table></figure><p>不加where条件时会删除表中所有的记录，所以为了防止这种失误操作，很多数据库往往都会有备份。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 删除指定行的数据</span><br><span class="line">delete from author where auth_id = 1;</span><br></pre></td></tr></table></figure><p>还有一个关键字：truncate，truncate是DDL语言(数据定义语言)，操作立即生效，原数据不会放到rollback segment中，不能回滚。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 不可随意使用truncate</span></span><br><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> authors; <span class="comment">-- truncate会直接删掉整张表，再重新建表</span></span><br></pre></td></tr></table></figure><ul><li>当表被truncate后，表和索引的所占空间会恢复到初始大小，delete操作不会减少表和索引的所占空间。</li><li>truncate和delete只删除数据，drop则删除整个表（结构和数据）。</li><li>truncate速度快，效率高，可以理解为先把表删除了，再重新建立。</li><li>truncate和delete均不会使表结构及其列、约束、索引等发生改变。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;MySQL数据库-第二章-SQL语句&quot;&gt;&lt;a href=&quot;#MySQL数据库-第二章-SQL语句&quot; class=&quot;headerlink&quot; title=&quot;MySQL数据库 第二章 SQL语句&quot;&gt;&lt;/a&gt;MySQL数据库 第二章 SQL语句&lt;/h1&gt;&lt;p&gt;SQL是一种</summary>
      
    
    
    
    <category term="MySQL数据库" scheme="https://ariesfun.gitee.io/categories/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="MySQL" scheme="https://ariesfun.gitee.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MySQL数据库 第一章 MySQL数据库介绍及环境搭建</title>
    <link href="https://ariesfun.gitee.io/posts/11881.html"/>
    <id>https://ariesfun.gitee.io/posts/11881.html</id>
    <published>2022-10-05T18:08:20.900Z</published>
    <updated>2022-10-16T17:21:16.404Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MySQL数据库-第一章-MySQL数据库介绍及环境搭建"><a href="#MySQL数据库-第一章-MySQL数据库介绍及环境搭建" class="headerlink" title="MySQL数据库 第一章 MySQL数据库介绍及环境搭建"></a>MySQL数据库 第一章 MySQL数据库介绍及环境搭建</h1><h2 id="一、数据库的概念"><a href="#一、数据库的概念" class="headerlink" title="一、数据库的概念"></a>一、数据库的概念</h2><ul><li>数据库是【<strong>按照数据结构来组织、存储和管理数据的仓库</strong>】，<u>是一个长期存储在计算机内的、有组织的、可共享的、统一管理的大量数据的集合</u>。</li><li>数据对于公司来说是最宝贵的财富之一，而程序员的工作就是对数据的管理，包括运算、流转、存储、展示等，数据库的最重要的功能就是【<strong>存储数据</strong>】，绝大部分的数据需要进行持久化，长期保存，而数据库就可以很好的帮助我们完成这个工作。</li></ul><h2 id="二、MySQL介绍"><a href="#二、MySQL介绍" class="headerlink" title="二、MySQL介绍"></a>二、MySQL介绍</h2><ul><li>MySQL是一个【<strong>关系型数据库管理系统</strong>】，由瑞典【MySQL AB】公司开发，属于 【Oracle】旗下产品。MySQL 是最流行的【关系型数据库管理系统】之一，在 【WEB】应用方面，MySQL是最好的 <strong>【RDBMS】</strong> (Relational Database Management System，<u>关系数据库管理系统)</u> 应用软件之一。</li><li>MySQL是一种关系型数据库管理系统，关系数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。</li><li>MySQL所使用的 【SQL 语言】是用于访问【数据库】的最常用标准化语言。MySQL 软件采用了双授权政策，分为社区版和商业版，<u>由于其体积小、速度快、总体拥有成本低，尤其是【开放源码】这一特点</u>，一般中小型网站的开发都选择 MySQL 作为网站数据库。</li></ul><h2 id="三、MySQL的安装"><a href="#三、MySQL的安装" class="headerlink" title="三、MySQL的安装"></a>三、MySQL的安装</h2><p>社区版官方下载网站：</p><p><a href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a></p><p><img src="https://imgbed-funblog.oss-cn-chengdu.aliyuncs.com/img/202210140120077.jpg" alt="Snipaste_2022-10-05_15-46-13"></p><p>基本的安装过程如下：</p><p><img src="https://ydlclass.com/doc21xnv/assets/image-20220419111843961.1b721a3e.png" alt="image-20220419111843961"></p><p>下载后我们可以自定义安装：</p><p>选择安装server和两个客户端进行体验：</p><p><img src="https://ydlclass.com/doc21xnv/assets/image-20220421193949698.6e202212.png" alt="image-20220419111843961"></p><p>自己可以体验一下workbench和mysqlsh。</p><h2 id="四、安装navicat"><a href="#四、安装navicat" class="headerlink" title="四、安装navicat"></a>四、安装navicat</h2><p>需要破解：破解过程看视频。</p><h2 id="五、基本概念"><a href="#五、基本概念" class="headerlink" title="五、基本概念"></a>五、基本概念</h2><h3 id="1、数据库"><a href="#1、数据库" class="headerlink" title="1、数据库"></a>1、数据库</h3><p>数据库（Database）是按照数据结构来组织、存储和管理数据的仓库。在mysql中可以创建多个数据库，一个数据库可以管理很多张表。</p><p>有个很形象的对比，例如execl中的一个execl文件就是一个数据库，一个sheet页就是一张表，表里边可以有所需要的数据：</p><p>查看所有数据库：<code>SHOW DATABASES;</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> databases;</span><br></pre></td></tr></table></figure><p>我们可以在登陆 MySQL 服务后，使用 <strong>create</strong> 命令创建数据库，语法如下，<u>两条sql等效</u>:</p><p><code>CREATE DATABASE 数据库名;</code>    or     <code>CREATE SCHEMA 数据库名;</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database student;  <span class="comment">-- 或用create schema student;</span></span><br></pre></td></tr></table></figure><p>使用数据库：<code>USE 数据库名;</code></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use student;</span><br></pre></td></tr></table></figure><h3 id="2、表"><a href="#2、表" class="headerlink" title="2、表"></a>2、表</h3><p><u>表（TABLE）是数据库中用来存储数据的对象，是有结构的数据的集合</u>，是整个数据库系统的基础。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;MySQL数据库-第一章-MySQL数据库介绍及环境搭建&quot;&gt;&lt;a href=&quot;#MySQL数据库-第一章-MySQL数据库介绍及环境搭建&quot; class=&quot;headerlink&quot; title=&quot;MySQL数据库 第一章 MySQL数据库介绍及环境搭建&quot;&gt;&lt;/a&gt;My</summary>
      
    
    
    
    <category term="MySQL数据库" scheme="https://ariesfun.gitee.io/categories/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="MySQL" scheme="https://ariesfun.gitee.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>Markdown语法</title>
    <link href="https://ariesfun.gitee.io/posts/22648.html"/>
    <id>https://ariesfun.gitee.io/posts/22648.html</id>
    <published>2022-08-02T02:59:40.680Z</published>
    <updated>2022-10-04T10:25:51.657Z</updated>
    
    <content type="html"><![CDATA[<p>6级标题：</p><h1 id="标题1"><a href="#标题1" class="headerlink" title="标题1"></a>标题1</h1><h2 id="标题2"><a href="#标题2" class="headerlink" title="标题2"></a>标题2</h2><h3 id="标题3"><a href="#标题3" class="headerlink" title="标题3"></a>标题3</h3><h4 id="标题4"><a href="#标题4" class="headerlink" title="标题4"></a>标题4</h4><h5 id="标题5"><a href="#标题5" class="headerlink" title="标题5"></a>标题5</h5><h6 id="标题6"><a href="#标题6" class="headerlink" title="标题6"></a>标题6</h6><p>引用：</p><blockquote><p>这是一段引用</p></blockquote><p>有序列表：<br>把大象放进冰箱<br>1.打开冰箱<br>2.把大象塞进去<br>3.关上冰箱</p><p>无序列表：</p><ul><li>阿里巴巴</li><li>华为云</li></ul><ul><li>千叶结锤</li><li>稚晖君</li></ul><p>任务列表：<br>明天要做的事：</p><ul><li><input disabled="" type="checkbox"> 吃饭</li><li><input checked="" disabled="" type="checkbox"> 睡觉</li><li><input checked="" disabled="" type="checkbox"> 打豆豆</li></ul><p>代码块：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>数学公式：<br>$$<br>\frac{\partial f}{\partial x} = 2\sqrt{a}x<br>$$</p><p>表格：<br>|姓名|年龄|成绩|<br>|:—|—:|:—:|<br>|张三|19|99|<br>|李四|20|88|</p><p>脚注：</p><p>内容型</p><p>一键三连<a href="%E6%8A%95%E5%B8%81%E3%80%81%E6%94%B6%E8%97%8F">^三连</a></p><h2 id="添加横线："><a href="#添加横线：" class="headerlink" title="添加横线："></a>添加横线：</h2><p>链接型</p><p>引用链接：<br><a href="www.baidu.com" title="搜索引擎">百度</a></p><p><a href="www.baidu.com" title="搜索引擎">百度</a></p><p>跳转链接：<br>请参考<a href="#%E6%A0%87%E9%A2%981">标题1</a></p><p>ULR:<br><a href="http://www.baidu.com/">http://www.baidu.com</a></p><p>图片链接：<br><img src="https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png" alt="百度" title="百度搜索"></p><p>其他行内格式：</p><p>斜体：<em>斜体</em></p><p>加粗：<strong>加粗</strong></p><p>行内代码：<code>printf()</code></p><p>下划线：<u>下划线</u></p><p>表情符号：:smile:</p><p>行内数学公式：$\theta=x^2$</p><p>化学式：H<del>2</del>O</p><p>次方：X^2^</p><p>文字高亮：==这是一段高亮文字==</p><p>嵌入视频：</p><iframe src="//player.bilibili.com/player.html?aid=327623069&bvid=BV1JA411h7Gw&cid=171385214&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;6级标题：&lt;/p&gt;
&lt;h1 id=&quot;标题1&quot;&gt;&lt;a href=&quot;#标题1&quot; class=&quot;headerlink&quot; title=&quot;标题1&quot;&gt;&lt;/a&gt;标题1&lt;/h1&gt;&lt;h2 id=&quot;标题2&quot;&gt;&lt;a href=&quot;#标题2&quot; class=&quot;headerlink&quot; title=&quot;标题</summary>
      
    
    
    
    <category term="Markdown" scheme="https://ariesfun.gitee.io/categories/Markdown/"/>
    
    
    <category term="Markdown" scheme="https://ariesfun.gitee.io/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>我的第一篇博客</title>
    <link href="https://ariesfun.gitee.io/posts/63785.html"/>
    <id>https://ariesfun.gitee.io/posts/63785.html</id>
    <published>2021-07-14T04:00:00.000Z</published>
    <updated>2022-10-16T17:21:16.407Z</updated>
    
    <content type="html"><![CDATA[<h1 id="用MarkDown进行博文编写"><a href="#用MarkDown进行博文编写" class="headerlink" title="用MarkDown进行博文编写"></a>用MarkDown进行博文编写</h1><span id="more"></span> <h2 id="2022"><a href="#2022" class="headerlink" title="2022"></a>2022</h2><p>使用标题时需要用#号  </p><h2 id="段落"><a href="#段落" class="headerlink" title="段落"></a>段落</h2><p>这是第一个段落内容 </p><p>这是第二个段落内容</p><h2 id="区块引用"><a href="#区块引用" class="headerlink" title="区块引用"></a>区块引用</h2><blockquote><p>这是一段引用段落，将会被高亮显示</p></blockquote><h2 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h2><p>[网易云] (<a href="https://music.163.com/?from=infinity">https://music.163.com/?from=infinity</a>)</p><h2 id="风景图"><a href="#风景图" class="headerlink" title="风景图"></a>风景图</h2><p><img src="https://img.zcool.cn/community/01d5725e6eea9ba80121651859942f.jpg@1280w_1l_2o_100sh.jpg" alt="图片1"></p><h2 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h2><ul><li>无序列表项</li><li>无序列表项</li><li>无序列表项 <h2 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h2></li></ul><ol><li>有序列表项1</li><li>有序列表项2</li><li>有序列表项3 <h2 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h2></li></ol><hr><hr><hr><hr><p>（ps：只要符号不小于三个以上都可显示分割线。）</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;用MarkDown进行博文编写&quot;&gt;&lt;a href=&quot;#用MarkDown进行博文编写&quot; class=&quot;headerlink&quot; title=&quot;用MarkDown进行博文编写&quot;&gt;&lt;/a&gt;用MarkDown进行博文编写&lt;/h1&gt;</summary>
    
    
    
    <category term="Markdown" scheme="https://ariesfun.gitee.io/categories/Markdown/"/>
    
    
    <category term="blog" scheme="https://ariesfun.gitee.io/tags/blog/"/>
    
    <category term="hexo" scheme="https://ariesfun.gitee.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://ariesfun.gitee.io/posts/1.html"/>
    <id>https://ariesfun.gitee.io/posts/1.html</id>
    <published>2021-03-31T16:27:24.675Z</published>
    <updated>2022-07-22T14:39:29.761Z</updated>
    
    <content type="html"><![CDATA[<h1 id="应用分类标签"><a href="#应用分类标签" class="headerlink" title="应用分类标签"></a>应用分类标签</h1><hr><p>title: Hello World<br>categories: 说明<br>top: 5<br>tags: 随笔</p><hr><h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h1><span id="more"></span> <p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;应用分类标签&quot;&gt;&lt;a href=&quot;#应用分类标签&quot; class=&quot;headerlink&quot; title=&quot;应用分类标签&quot;&gt;&lt;/a&gt;应用分类标签&lt;/h1&gt;&lt;hr&gt;
&lt;p&gt;title: Hello World&lt;br&gt;categories: 说明&lt;br&gt;top: 5&lt;br&gt;tags: 随笔&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;Hello-World&quot;&gt;&lt;a href=&quot;#Hello-World&quot; class=&quot;headerlink&quot; title=&quot;Hello World&quot;&gt;&lt;/a&gt;Hello World&lt;/h1&gt;</summary>
    
    
    
    
  </entry>
  
</feed>
